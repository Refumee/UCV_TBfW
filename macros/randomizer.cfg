[modification]
    id=modification_scale_randomizer
    name= _ "Unit Color Variation"
    type=hybrid

    description=_"Giving recruits more variation in their coloring.
	
Supported Races:
	- Saurians
	- Drakes
	- Humans
	- Trolls
	- Merfolk
	- Orcs
	- Goblins
	- Wolves
	- Wose
	- Naga"
    [options]
        [checkbox]
            id=modification_scale_randomizer_no_loyal
            name=_"Exclude special units"
            description=_"Loyal units and units that can recruit don't get randomised colors."
            default=no
        [/checkbox]
        [checkbox]
            id=modification_scale_randomizer_morphing
            name=_"Allow unusual colors"
            description=_"Adds unusual colors to the randomiser: Yellow, brown and red."
            default=no
        [/checkbox]
    [/options]
	
########################################################################
############					Saurian						############
########################################################################

    [event]
        name=unit placed
        first_time_only=no
		
		[if]
			[false][/false]
			[then]
			[/then]
			
	### Saurian scale color randomizer
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([have_unit]
            {SAURIAN_RACE_LIST} #saurian pack compatibility
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		(1..13)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_GREEN} GREEN}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_SHIFT_MOSS} MOSS}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_OLDGREEN} OLDGREEN}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_OLDGREENORACLE} OLDGREENORACLE}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_SXRPGGREEN} SXRPGGREEN}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_ELVISHFIGHTERGREEN} ELVISHFIGHTERGREEN}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_ELVISHSCOUTGREEN} ELVISHSCOUTGREEN}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_WOSEGREEN} WOSEGREEN}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_MERFOLKGREEN} MERFOLKGREEN}}
		{ELSEIF_RANDOM 10 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_DRAKEGREEN} DRAKEGREEN}}
		{ELSEIF_RANDOM 11 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_SWAMPLIZARD} SWAMPLIZARD}}
		{ELSEIF_RANDOM 12 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_WATERSERPENT} WATERSERPENT}}
		{ELSEIF_RANDOM 13 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_KALIANELF} KALIANELF}}
		)
		
		(1..14)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_GREEN} GREEN}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_SHIFT_MOSS} MOSS}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_OLDGREEN} OLDGREEN}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_OLDGREENORACLE} OLDGREENORACLE}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_SXRPGGREEN} SXRPGGREEN}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_ELVISHFIGHTERGREEN} ELVISHFIGHTERGREEN}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_ELVISHSCOUTGREEN} ELVISHSCOUTGREEN}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_WOSEGREEN} WOSEGREEN}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_MERFOLKGREEN} MERFOLKGREEN}}
		{ELSEIF_RANDOM 10 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_DRAKEGREEN} DRAKEGREEN}}
		{ELSEIF_RANDOM 11 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_SWAMPLIZARD} SWAMPLIZARD}}
		{ELSEIF_RANDOM 12 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_WATERSERPENT} WATERSERPENT}}
		{ELSEIF_RANDOM 13 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_KALIANELF} KALIANELF}}
		{ELSEIF_RANDOM 14 ({RANDOM 1..6} [if]
			{THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_SHIFT_DESERT} DESERT}}
			{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_SHIFT_RED} RED}}
			{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_SHIFT_SALAMANDER} SALAMANDER}}
			{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_SHIFT_DRAKEBURNER} DRAKEBURNER}}
			{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_SHIFT_ALBINO} ALBINO}}
			{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_SHIFT_DEEP} DEEP}}
			{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_SHIFT_ORCISHARMOR} ORCISH}}
			[/if])}
		)		
	}
	
########################################################################
############					Drake						############
########################################################################
	
	### Drake Glider scale color randomizer
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([have_unit]
            {DRAKE_GLIDER_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		(1..9)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_BURNER_GLIDERDRAKE} BURNER}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_GLIDER_GLIDERDRAKE} GLIDER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_FIGHTER_GLIDERDRAKE} FIGHTER}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_BROWNGREEN_GLIDERDRAKE} BROWNGREEN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_BROWN_GLIDERDRAKE} BROWN}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_SAURIAN_GLIDERDRAKE} SAURIAN}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_NAGA_GLIDERDRAKE} NAGA}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_WOSEBROWN_GLIDERDRAKE} WOSE}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_WYVERN_GLIDERDRAKE} WYVERN}}
		)
		
		(1..10)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_BURNER_GLIDERDRAKE} BURNER}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_GLIDER_GLIDERDRAKE} GLIDER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_FIGHTER_GLIDERDRAKE} FIGHTER}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_BROWNGREEN_GLIDERDRAKE} BROWNGREEN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_BROWN_GLIDERDRAKE} BROWN}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_SAURIAN_GLIDERDRAKE} SAURIAN}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_NAGA_GLIDERDRAKE} NAGA}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_WOSEBROWN_GLIDERDRAKE} WOSE}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_WYVERN_GLIDERDRAKE} WYVERN}}
		{ELSEIF_RANDOM 10 ({RANDOM 1..6} [if]
			{THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_ASHEN_GLIDERDRAKE} ASHEN}}
			{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_GSE_GLIDERDRAKE} GSE}}
			{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_FIREDRAKE_GLIDERDRAKE} FIREDRAKE}}
			{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_INFERNO_GLIDERDRAKE} INFERNO}}
			{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_ARMAGEDDON_GLIDERDRAKE} ARMAGEDDON}}
			{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE_ALB} {SCALE_SHIFT_ALBINO_GLIDERDRAKE} ALBINO}}
			[/if])}
		)
		
	}
	### Drake Fighter/Clasher scale color randomizer
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([have_unit]
            {DRAKE_FIGHTER_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		(1..9)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_BURNER_FIGHTERDRAKE} BURNER}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_GLIDER_FIGHTERDRAKE} GLIDER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_FIGHTER_FIGHTERDRAKE} FIGHTER}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_BROWNGREEN_FIGHTERDRAKE} BROWNGREEN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_BROWN_FIGHTERDRAKE} BROWN}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_SAURIAN_FIGHTERDRAKE} SAURIAN}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_NAGA_FIGHTERDRAKE} NAGA}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_WOSEBROWN_FIGHTERDRAKE} WOSE}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_WYVERN_FIGHTERDRAKE} WYVERN}}
		)
		
		(1..10)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_BURNER_FIGHTERDRAKE} BURNER}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_GLIDER_FIGHTERDRAKE} GLIDER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_FIGHTER_FIGHTERDRAKE} FIGHTER}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_BROWNGREEN_FIGHTERDRAKE} BROWNGREEN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_BROWN_FIGHTERDRAKE} BROWN}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_SAURIAN_FIGHTERDRAKE} SAURIAN}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_NAGA_FIGHTERDRAKE} NAGA}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_WOSEBROWN_FIGHTERDRAKE} WOSE}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_WYVERN_FIGHTERDRAKE} WYVERN}}
		{ELSEIF_RANDOM 10 ({RANDOM 1..6} [if]
			{THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_ASHEN_FIGHTERDRAKE} ASHEN}}
			{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_GSE_FIGHTERDRAKE} GSE}}
			{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_FIREDRAKE_FIGHTERDRAKE} FIREDRAKE}}
			{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_INFERNO_FIGHTERDRAKE} INFERNO}}
			{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_ARMAGEDDON_FIGHTERDRAKE} ARMAGEDDON}}
			{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE_ALB} {SCALE_SHIFT_ALBINO_FIGHTERDRAKE} ALBINO}}
			[/if])}
		)
		
	}
	### Drake Burner scale color randomizer
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([have_unit]
            {DRAKE_BURNER_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		(1..9)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_BURNER_BURNERDRAKE} BURNER}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_GLIDER_BURNERDRAKE} GLIDER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_FIGHTER_BURNERDRAKE} FIGHTER}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_BROWNGREEN_BURNERDRAKE} BROWNGREEN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_BROWN_BURNERDRAKE} BROWN}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_SAURIAN_BURNERDRAKE} SAURIAN}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_NAGA_BURNERDRAKE} NAGA}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_WOSEBROWN_BURNERDRAKE} WOSE}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_WYVERN_BURNERDRAKE} WYVERN}}
		)
		
		(1..10)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_BURNER_BURNERDRAKE} BURNER}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_GLIDER_BURNERDRAKE} GLIDER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_FIGHTER_BURNERDRAKE} FIGHTER}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_BROWNGREEN_BURNERDRAKE} BROWNGREEN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_BROWN_BURNERDRAKE} BROWN}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_SAURIAN_BURNERDRAKE} SAURIAN}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_NAGA_BURNERDRAKE} NAGA}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_WOSEBROWN_BURNERDRAKE} WOSE}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_WYVERN_BURNERDRAKE} WYVERN}}
		{ELSEIF_RANDOM 10 ({RANDOM 1..6} [if]
			{THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_ASHEN_BURNERDRAKE} ASHEN}}
			{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_GSE_BURNERDRAKE} GSE}}
			{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_FIREDRAKE_BURNERDRAKE} FIREDRAKE}}
			{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_INFERNO_BURNERDRAKE} INFERNO}}
			{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_ARMAGEDDON_BURNERDRAKE} ARMAGEDDON}}
			{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE_ALB} {SCALE_SHIFT_ALBINO_BURNERDRAKE} ALBINO}}
			[/if])}
		)
		
	}
	
	### Fire Burner scale color randomizer
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([have_unit]
            {DRAKE_FIRE_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		(1..9)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_BURNER_FIREDRAKE} BURNER}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_GLIDER_FIREDRAKE} GLIDER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_FIGHTER_FIREDRAKE} FIGHTER}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_BROWNGREEN_FIREDRAKE} BROWNGREEN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_BROWN_FIREDRAKE} BROWN}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_SAURIAN_FIREDRAKE} SAURIAN}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_NAGA_FIREDRAKE} NAGA}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_WOSEBROWN_FIREDRAKE} WOSE}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_WYVERN_FIREDRAKE} WYVERN}}
		)
		
		(1..10)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_BURNER_FIREDRAKE} BURNER}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_GLIDER_FIREDRAKE} GLIDER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_FIGHTER_FIREDRAKE} FIGHTER}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_BROWNGREEN_FIREDRAKE} BROWNGREEN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_BROWN_FIREDRAKE} BROWN}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_SAURIAN_FIREDRAKE} SAURIAN}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_NAGA_FIREDRAKE} NAGA}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_WOSEBROWN_FIREDRAKE} WOSE}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_WYVERN_FIREDRAKE} WYVERN}}
		{ELSEIF_RANDOM 10 ({RANDOM 1..6} [if]
			{THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_ASHEN_FIREDRAKE} ASHEN}}
			{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_GSE_FIREDRAKE} GSE}}
			{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_FIREDRAKE_FIREDRAKE} FIREDRAKE}}
			{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_INFERNO_FIREDRAKE} INFERNO}}
			{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_ARMAGEDDON_FIREDRAKE} ARMAGEDDON}}
			{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE_ALB} {SCALE_SHIFT_ALBINO_FIREDRAKE} ALBINO}}
			[/if])}
		)
	}
	
	### Inferno Burner scale color randomizer
	{MODIFICATION_COLORCHANGER_RANDOMIZER
	([have_unit]
            {DRAKE_INFERNO_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		(1..9)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_BURNER_INFERNODRAKE} BURNER}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_GLIDER_INFERNODRAKE} GLIDER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_FIGHTER_INFERNODRAKE} FIGHTER}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_BROWNGREEN_INFERNODRAKE} BROWNGREEN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_BROWN_INFERNODRAKE} BROWN}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_SAURIAN_INFERNODRAKE} SAURIAN}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_NAGA_INFERNODRAKE} NAGA}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_WOSEBROWN_INFERNODRAKE} WOSE}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_WYVERN_INFERNODRAKE} WYVERN}}
		)
		
		(1..10)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_BURNER_INFERNODRAKE} BURNER}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_GLIDER_INFERNODRAKE} GLIDER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_FIGHTER_INFERNODRAKE} FIGHTER}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_BROWNGREEN_INFERNODRAKE} BROWNGREEN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_BROWN_INFERNODRAKE} BROWN}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_SAURIAN_INFERNODRAKE} SAURIAN}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_NAGA_INFERNODRAKE} NAGA}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_WOSEBROWN_INFERNODRAKE} WOSE}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_WYVERN_INFERNODRAKE} WYVERN}}
		{ELSEIF_RANDOM 10 ({RANDOM 1..6} [if]
			{THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_ASHEN_INFERNODRAKE} ASHEN}}
			{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_GSE_INFERNODRAKE} GSE}}
			{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_FIREDRAKE_INFERNODRAKE} FIREDRAKE}}
			{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_INFERNO_INFERNODRAKE} INFERNO}}
			{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_ARMAGEDDON_INFERNODRAKE} ARMAGEDDON}}
			{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE_ALB} {SCALE_SHIFT_ALBINO_INFERNODRAKE} ALBINO}}
			[/if])}
		)
	}
	
	### Armageddon Burner scale color randomizer
	{MODIFICATION_COLORCHANGER_RANDOMIZER
	([have_unit]
            {DRAKE_ARMAGEDDON_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		(1..9)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_BURNER_ARMAGEDDONDRAKE} BURNER}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_GLIDER_ARMAGEDDONDRAKE} GLIDER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_FIGHTER_ARMAGEDDONDRAKE} FIGHTER}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_BROWNGREEN_ARMAGEDDONDRAKE} BROWNGREEN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_BROWN_ARMAGEDDONDRAKE} BROWN}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_SAURIAN_ARMAGEDDONDRAKE} SAURIAN}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_NAGA_ARMAGEDDONDRAKE} NAGA}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_WOSEBROWN_ARMAGEDDONDRAKE} WOSE}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_WYVERN_ARMAGEDDONDRAKE} WYVERN}}
		)
		
		(1..10)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_BURNER_ARMAGEDDONDRAKE} BURNER}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_GLIDER_ARMAGEDDONDRAKE} GLIDER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_FIGHTER_ARMAGEDDONDRAKE} FIGHTER}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_BROWNGREEN_ARMAGEDDONDRAKE} BROWNGREEN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_BROWN_ARMAGEDDONDRAKE} BROWN}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_SAURIAN_ARMAGEDDONDRAKE} SAURIAN}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_NAGA_ARMAGEDDONDRAKE} NAGA}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_WOSEBROWN_ARMAGEDDONDRAKE} WOSE}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_WYVERN_ARMAGEDDONDRAKE} WYVERN}}
		{ELSEIF_RANDOM 10 ({RANDOM 1..6} [if]
			{THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_ASHEN_ARMAGEDDONDRAKE} ASHEN}}
			{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_GSE_ARMAGEDDONDRAKE} GSE}}
			{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_FIREDRAKE_ARMAGEDDONDRAKE} FIREDRAKE}}
			{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_INFERNO_ARMAGEDDONDRAKE} INFERNO}}
			{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_ARMAGEDDON_ARMAGEDDONDRAKE} ARMAGEDDON}}
			{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE_ALB} {SCALE_SHIFT_ALBINO_ARMAGEDDONDRAKE} ALBINO}}
			[/if])}
		)
	}	
	
	### Drake UMC (?) scale color randomizer
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([have_unit]
			{DRAKE_UMC_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		(1..9)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_BURNER_FIGHTERDRAKE} BURNER}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_GLIDER_FIGHTERDRAKE} GLIDER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_FIGHTER_FIGHTERDRAKE} FIGHTER}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_BROWNGREEN_FIGHTERDRAKE} BROWNGREEN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_BROWN_FIGHTERDRAKE} BROWN}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_SAURIAN_FIGHTERDRAKE} SAURIAN}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_NAGA_FIGHTERDRAKE} NAGA}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_WOSEBROWN_FIGHTERDRAKE} WOSE}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_WYVERN_FIGHTERDRAKE} WYVERN}}
		)
		
		(1..10)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_BURNER_FIGHTERDRAKE} BURNER}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_GLIDER_FIGHTERDRAKE} GLIDER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_FIGHTER_FIGHTERDRAKE} FIGHTER}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_BROWNGREEN_FIGHTERDRAKE} BROWNGREEN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_BROWN_FIGHTERDRAKE} BROWN}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_SAURIAN_FIGHTERDRAKE} SAURIAN}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_NAGA_FIGHTERDRAKE} NAGA}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_WOSEBROWN_FIGHTERDRAKE} WOSE}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_WYVERN_FIGHTERDRAKE} WYVERN}}
		{ELSEIF_RANDOM 10 ({RANDOM 1..6} [if]
			{THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_ASHEN_FIGHTERDRAKE} ASHEN}}
			{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_GSE_FIGHTERDRAKE} GSE}}
			{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_FIREDRAKE_FIGHTERDRAKE} FIREDRAKE}}
			{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_INFERNO_FIGHTERDRAKE} INFERNO}}
			{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_ARMAGEDDON_FIGHTERDRAKE} ARMAGEDDON}}
			{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE_ALB} {SCALE_SHIFT_ALBINO_FIGHTERDRAKE} ALBINO}}
			[/if])}
		)
		
	}
		
########################################################################
############					Loyalist					############
########################################################################

	### Base Loyalist Units
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([have_unit]
			{LOYALIST_BASE_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		
		(1..8)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_LOYALIST_BLUE_INFANTRY_ARMOUR_COLOR} LOYALIST_BLUE}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_LOYALIST_CAVALIER_INFANTRY_ARMOUR_COLOR} CAVALIER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_LOYALIST_GRAND_KNIGHT_INFANTRY_ARMOUR_COLOR} GRAND_KNIGHT}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_LOYALIST_PALADIN_INFANTRY_ARMOUR_COLOR} PALADIN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_KARRAG_INFANTRY_ARMOUR_COLOR} KARRAG}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_WITNESS_INFANTRY_ARMOUR_COLOR} WITNESS}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_SEACAPTAIN_STEEL_INFANTRY_ARMOUR_COLOR} SEACAPTAIN_STEEL}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_SIR_GERRIK_INFANTRY_ARMOUR_COLOR} GERRIK}}
		)
		
		(1..9)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_LOYALIST_BLUE_INFANTRY_ARMOUR_COLOR} LOYALIST_BLUE}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_LOYALIST_CAVALIER_INFANTRY_ARMOUR_COLOR} CAVALIER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_LOYALIST_GRAND_KNIGHT_INFANTRY_ARMOUR_COLOR} GRAND_KNIGHT}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_LOYALIST_PALADIN_INFANTRY_ARMOUR_COLOR} PALADIN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_KARRAG_INFANTRY_ARMOUR_COLOR} KARRAG}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_WITNESS_INFANTRY_ARMOUR_COLOR} WITNESS}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_SEACAPTAIN_STEEL_INFANTRY_ARMOUR_COLOR} SEACAPTAIN_STEEL}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_SIR_GERRIK_INFANTRY_ARMOUR_COLOR} GERRIK}}
		{ELSEIF_RANDOM 9 ({RANDOM 1..6} [if]
			{THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_ORC_INFANTERY_ARMOUR_COLOR} ORC}}
			{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_HEAVY_INFANTERY_INFANTRY_ARMOUR_COLOR} HI}}
			{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_UTBS_HUMAN_INFANTERY_ARMOUR_COLOR} UTBS_HUMAN}}
			{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_GOLD_NEW_INFANTRY_ARMOUR_COLOR} GOLD_NEW}}
			{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_DEATHKNIGHT_INFANTRY_ARMOUR_COLOR} DEATHKNIGHT}}
			{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_MERFOLK_HOPLITE_INFANTRY_ARMOUR_COLOR} MERFOLK_HOPLITE}}
			[/if])}
		)
		
	}
	
	### HI Units
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([have_unit]
			{LOYALIST_HI_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		(1..8)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_LOYALIST_BLUE_HI_ARMOUR_COLOR} LOYALIST_BLUE}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_LOYALIST_CAVALIER_HI_ARMOUR_COLOR} CAVALIER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_LOYALIST_GRAND_KNIGHT_HI_ARMOUR_COLOR} GRAND_KNIGHT}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_LOYALIST_PALADIN_HI_ARMOUR_COLOR} PALADIN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_KARRAG_HI_ARMOUR_COLOR} KARRAG}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_WITNESS_HI_ARMOUR_COLOR} WITNESS}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_SEACAPTAIN_STEEL_HI_ARMOUR_COLOR} SEACAPTAIN_STEEL}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_SIR_GERRIK_HI_ARMOUR_COLOR} GERRIK}}
		)
		
		(1..9)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_LOYALIST_BLUE_HI_ARMOUR_COLOR} LOYALIST_BLUE}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_LOYALIST_CAVALIER_HI_ARMOUR_COLOR} CAVALIER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_LOYALIST_GRAND_KNIGHT_HI_ARMOUR_COLOR} GRAND_KNIGHT}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_LOYALIST_PALADIN_HI_ARMOUR_COLOR} PALADIN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_KARRAG_HI_ARMOUR_COLOR} KARRAG}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_WITNESS_HI_ARMOUR_COLOR} WITNESS}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_SEACAPTAIN_STEEL_HI_ARMOUR_COLOR} SEACAPTAIN_STEEL}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_SIR_GERRIK_HI_ARMOUR_COLOR} GERRIK}}
		{ELSEIF_RANDOM 9 ({RANDOM 1..6} [if]
			{THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_ORC_HI_ARMOUR_COLOR} ORC}}
			{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_LOYALIST_HI_ARMOUR_COLOR} HI}}
			{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_UTBS_HUMAN_HI_ARMOUR_COLOR} UTBS_HUMAN}}
			{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_GOLD_NEW_HI_ARMOUR_COLOR} GOLD_NEW}}
			{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_DEATHKNIGHT_HI_ARMOUR_COLOR} DEATHKNIGHT}}
			{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_MERFOLK_HOPLITE_HI_ARMOUR_COLOR} MERFOLK_HOPLITE}}
			[/if])}
		)
		
	}
	
	### Grand Knight Units
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([have_unit]
			{LOYALIST_GRAND_KNIGHT_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		(1..8)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_LOYALIST_BLUE_HI_ARMOUR_COLOR} LOYALIST_BLUE}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_LOYALIST_CAVALIER_HI_ARMOUR_COLOR} CAVALIER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_LOYALIST_GRAND_KNIGHT_HI_ARMOUR_COLOR} GRAND_KNIGHT}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_LOYALIST_PALADIN_HI_ARMOUR_COLOR} PALADIN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_KARRAG_HI_ARMOUR_COLOR} KARRAG}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_WITNESS_HI_ARMOUR_COLOR} WITNESS}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_SEACAPTAIN_STEEL_HI_ARMOUR_COLOR} SEACAPTAIN_STEEL}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_SIR_GERRIK_HI_ARMOUR_COLOR} GERRIK}}
		)
		
		(1..9)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_LOYALIST_BLUE_HI_ARMOUR_COLOR} LOYALIST_BLUE}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_LOYALIST_CAVALIER_HI_ARMOUR_COLOR} CAVALIER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_LOYALIST_GRAND_KNIGHT_HI_ARMOUR_COLOR} GRAND_KNIGHT}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_LOYALIST_PALADIN_HI_ARMOUR_COLOR} PALADIN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_KARRAG_HI_ARMOUR_COLOR} KARRAG}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_WITNESS_HI_ARMOUR_COLOR} WITNESS}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_SEACAPTAIN_STEEL_HI_ARMOUR_COLOR} SEACAPTAIN_STEEL}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_SIR_GERRIK_HI_ARMOUR_COLOR} GERRIK}}
		{ELSEIF_RANDOM 9 ({RANDOM 1..6} [if]
			{THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_ORC_HI_ARMOUR_COLOR} ORC}}
			{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_HEAVY_INFANTERY_HI_ARMOUR_COLOR} HI}}
			{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_UTBS_HUMAN_HI_ARMOUR_COLOR} UTBS_HUMAN}}
			{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_GOLD_NEW_HI_ARMOUR_COLOR} GOLD_NEW}}
			{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_DEATHKNIGHT_HI_ARMOUR_COLOR} DEATHKNIGHT}}
			{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_MERFOLK_HOPLITE_HI_ARMOUR_COLOR} MERFOLK_HOPLITE}}
			[/if])}
		)
		
	}
	
	### Cavalier Units
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([have_unit]
			{LOYALIST_CAVALIER_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		(1..8)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_LOYALIST_BLUE_CAVALIER_ARMOUR_COLOR} LOYALIST_BLUE}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_LOYALIST_CAVALIER_CAVALIER_ARMOUR_COLOR} CAVALIER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_LOYALIST_GRAND_KNIGHT_CAVALIER_ARMOUR_COLOR} GRAND_KNIGHT}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_LOYALIST_PALADIN_CAVALIER_ARMOUR_COLOR} PALADIN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_KARRAG_CAVALIER_ARMOUR_COLOR} KARRAG}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_WITNESS_CAVALIER_ARMOUR_COLOR} WITNESS}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_SEACAPTAIN_STEEL_CAVALIER_ARMOUR_COLOR} SEACAPTAIN_STEEL}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_SIR_GERRIK_CAVALIER_ARMOUR_COLOR} GERRIK}}
		)
		
		(1..9)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_LOYALIST_BLUE_CAVALIER_ARMOUR_COLOR} LOYALIST_BLUE}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_LOYALIST_CAVALIER_CAVALIER_ARMOUR_COLOR} CAVALIER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_LOYALIST_GRAND_KNIGHT_CAVALIER_ARMOUR_COLOR} GRAND_KNIGHT}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_LOYALIST_PALADIN_CAVALIER_ARMOUR_COLOR} PALADIN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_KARRAG_CAVALIER_ARMOUR_COLOR} KARRAG}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_WITNESS_CAVALIER_ARMOUR_COLOR} WITNESS}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_SEACAPTAIN_STEEL_CAVALIER_ARMOUR_COLOR} SEACAPTAIN_STEEL}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_SIR_GERRIK_CAVALIER_ARMOUR_COLOR} GERRIK}}
		{ELSEIF_RANDOM 9 ({RANDOM 1..6} [if]
			{THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_ORC_CAVALIER_ARMOUR_COLOR} ORC}}
			{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_HEAVY_INFANTERY_CAVALIER_ARMOUR_COLOR} HI}}
			{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_UTBS_HUMAN_CAVALIER_ARMOUR_COLOR} UTBS_HUMAN}}
			{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_GOLD_NEW_CAVALIER_ARMOUR_COLOR} GOLD_NEW}}
			{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_DEATHKNIGHT_CAVALIER_ARMOUR_COLOR} DEATHKNIGHT}}
			{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_MERFOLK_HOPLITE_CAVALIER_ARMOUR_COLOR} MERFOLK_HOPLITE}}
			[/if])}
		)
		
	}
	
	### Paladin Units
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([have_unit]
			{LOYALIST_PALADIN_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		(1..8)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_LOYALIST_BLUE_HI_ARMOUR_COLOR} LOYALIST_BLUE}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_LOYALIST_CAVALIER_HI_ARMOUR_COLOR} CAVALIER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_LOYALIST_GRAND_KNIGHT_HI_ARMOUR_COLOR} GRAND_KNIGHT}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_LOYALIST_PALADIN_HI_ARMOUR_COLOR} PALADIN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_KARRAG_HI_ARMOUR_COLOR} KARRAG}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_WITNESS_HI_ARMOUR_COLOR} WITNESS}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_SEACAPTAIN_STEEL_HI_ARMOUR_COLOR} SEACAPTAIN_STEEL}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_SIR_GERRIK_HI_ARMOUR_COLOR} GERRIK}}
		)
		
		(1..7)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_LOYALIST_BLUE_HI_ARMOUR_COLOR} LOYALIST_BLUE}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_LOYALIST_CAVALIER_HI_ARMOUR_COLOR} CAVALIER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_LOYALIST_GRAND_KNIGHT_HI_ARMOUR_COLOR} GRAND_KNIGHT}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_LOYALIST_PALADIN_HI_ARMOUR_COLOR} PALADIN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_KARRAG_HI_ARMOUR_COLOR} KARRAG}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_WITNESS_HI_ARMOUR_COLOR} WITNESS}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_SEACAPTAIN_STEEL_HI_ARMOUR_COLOR} SEACAPTAIN_STEEL}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_SIR_GERRIK_HI_ARMOUR_COLOR} GERRIK}}
		{ELSEIF_RANDOM 9 ({RANDOM 1..6} [if]
			{THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_SIR_GERRIK_HI_ARMOUR_COLOR} GERRIK}}
			{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_HEAVY_INFANTERY_HI_ARMOUR_COLOR} HI}}
			{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_UTBS_HUMAN_HI_ARMOUR_COLOR} UTBS_HUMAN}}
			{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_GOLD_NEW_HI_ARMOUR_COLOR} GOLD_NEW}}
			{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_DEATHKNIGHT_HI_ARMOUR_COLOR} DEATHKNIGHT}}
			{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_MERFOLK_HOPLITE_HI_ARMOUR_COLOR} MERFOLK_HOPLITE}}
			[/if])}
		)
		
	}
	
########################################################################
############					Troll						############
########################################################################

	### Troll color randomizer
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([have_unit]
            {TROLL_RACE_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		(1..14)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {TROLL_GREY} GREY}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {TROLL_WOODENEARTH} WOODENEARTH}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {TROLL_EARTHEN} EARTHEN}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {TROLL_DARKERMUD} DARKERMUD}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {TROLL_DARKMUD} DARKMUD}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {TROLL_DARKGREEN} DARKGREEN}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {TROLL_DARKBRIGHTSTONE} DARKBRIGHTSTONE}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {BASE_HEAVY_INFANTERY_HI_ARMOUR_COLOR} HEAVY_INFANTERY}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {BASE_ROYAL_WARRIOR_HI_ARMOUR_COLOR} ROYAL_WARRIOR}}
		{ELSEIF_RANDOM 10 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {BASE_CHEVALIER_HI_ARMOUR_COLOR} CHEVALIER}}
		{ELSEIF_RANDOM 11 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {BASE_ELF_DARKER_HI_ARMOUR_COLOR} ELF_DARKER}}
		{ELSEIF_RANDOM 12 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {BASE_ELF_LIGHTER_HI_ARMOUR_COLOR} ELF_LIGHTER}}
		{ELSEIF_RANDOM 13 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {BASE_DARK_ASSASSIN_CLOAK_HI_ARMOUR_COLOR} DARK_ASSASSIN}}
		{ELSEIF_RANDOM 14 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {BASE_DREADBAT_METAL_HI_ARMOUR_COLOR} DREADBAT_METAL}}
		)
		
		(1..14)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {TROLL_GREY} GREY}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {TROLL_WOODENEARTH} WOODENEARTH}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {TROLL_EARTHEN} EARTHEN}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {TROLL_DARKERMUD} DARKERMUD}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {TROLL_DARKMUD} DARKMUD}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {TROLL_DARKGREEN} DARKGREEN}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {TROLL_DARKBRIGHTSTONE} DARKBRIGHTSTONE}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {BASE_HEAVY_INFANTERY_HI_ARMOUR_COLOR} HEAVY_INFANTERY}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {BASE_ROYAL_WARRIOR_HI_ARMOUR_COLOR} ROYAL_WARRIOR}}
		{ELSEIF_RANDOM 10 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {BASE_CHEVALIER_HI_ARMOUR_COLOR} CHEVALIER}}
		{ELSEIF_RANDOM 11 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {BASE_ELF_DARKER_HI_ARMOUR_COLOR} ELF_DARKER}}
		{ELSEIF_RANDOM 12 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {BASE_ELF_LIGHTER_HI_ARMOUR_COLOR} ELF_LIGHTER}}
		{ELSEIF_RANDOM 13 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {BASE_DARK_ASSASSIN_CLOAK_HI_ARMOUR_COLOR} DARK_ASSASSIN}}
		{ELSEIF_RANDOM 14 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {BASE_DREADBAT_METAL_HI_ARMOUR_COLOR} DREADBAT_METAL}}
		{ELSEIF_RANDOM 15 ({RANDOM 1..5} [if]
			{THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {TROLL_SANDSTONE} SANDSTONE}}
			{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {TROLL_MOLTEN} MOLTEN}}
			{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {BASE_GOLD_NEW_HI_ARMOUR_COLOR} GOLD_NEW}}
			{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {BASE_SIR_GERRIK_HI_ARMOUR_COLOR} SIR_GERRIK}}
			{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {BASE_SKELETON_RIDER_HI_ARMOUR_COLOR} SKELETON_RIDER}}
			[/if])}
		)	
	}
	
########################################################################
############					Merfolk						############
########################################################################

	### Merfolk color randomizer
	#define MERFOLK_HAIR_RANDOMISER_UCV
	### Merfolk hair randomizer
	[if]
		[false][/false]
		[then]
		[/then]
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([have_unit]
            {MERFOLK_RACE_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift_hair=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		(1..11)
		({THEN_RANDOM {VARIABLE merfolk.newcolor_hair {MERFOLK_HAIR}}}
		{ELSEIF_RANDOM 2 {VARIABLE merfolk.newcolor_hair {MERFOLK_HAIR_JAVELINEER18}}}
		{ELSEIF_RANDOM 3 {VARIABLE merfolk.newcolor_hair {MERFOLK_HAIR_SIREN18}}}
		{ELSEIF_RANDOM 4 {VARIABLE merfolk.newcolor_hair {MERFOLK_HAIR_SPEARMAN18}}}
		{ELSEIF_RANDOM 5 {VARIABLE merfolk.newcolor_hair {MERFOLK_HAIR_ENTANGLER16}}}
		{ELSEIF_RANDOM 6 {VARIABLE merfolk.newcolor_hair {MERFOLK_HAIR_ENTANGLER18}}}
		{ELSEIF_RANDOM 7 {VARIABLE merfolk.newcolor_hair {MERFOLK_HAIR_SPEARMAN16}}}
		{ELSEIF_RANDOM 8 {VARIABLE merfolk.newcolor_hair {MERFOLK_HAIR_JAVELINEER16}}}
		{ELSEIF_RANDOM 9 {VARIABLE merfolk.newcolor_hair {MERFOLK_HAIR_SIREN16}}}
		{ELSEIF_RANDOM 10 {VARIABLE merfolk.newcolor_hair {MERFOLK_HAIR_ENCHANTRESS18}}}
		{ELSEIF_RANDOM 11 {VARIABLE merfolk.newcolor_hair {MERFOLK_HAIR_ENCHANTRESS16}}}
		)
		
		(1..11)
		({THEN_RANDOM {VARIABLE merfolk.newcolor_hair {MERFOLK_HAIR}}}
		{ELSEIF_RANDOM 2 {VARIABLE merfolk.newcolor_hair {MERFOLK_HAIR_JAVELINEER18}}}
		{ELSEIF_RANDOM 3 {VARIABLE merfolk.newcolor_hair {MERFOLK_HAIR_SIREN18}}}
		{ELSEIF_RANDOM 4 {VARIABLE merfolk.newcolor_hair {MERFOLK_HAIR_SPEARMAN18}}}
		{ELSEIF_RANDOM 5 {VARIABLE merfolk.newcolor_hair {MERFOLK_HAIR_ENTANGLER16}}}
		{ELSEIF_RANDOM 6 {VARIABLE merfolk.newcolor_hair {MERFOLK_HAIR_ENTANGLER18}}}
		{ELSEIF_RANDOM 7 {VARIABLE merfolk.newcolor_hair {MERFOLK_HAIR_SPEARMAN16}}}
		{ELSEIF_RANDOM 8 {VARIABLE merfolk.newcolor_hair {MERFOLK_HAIR_JAVELINEER16}}}
		{ELSEIF_RANDOM 9 {VARIABLE merfolk.newcolor_hair {MERFOLK_HAIR_SIREN16}}}
		{ELSEIF_RANDOM 10 {VARIABLE merfolk.newcolor_hair {MERFOLK_HAIR_ENCHANTRESS18}}}
		{ELSEIF_RANDOM 11 {VARIABLE merfolk.newcolor_hair {MERFOLK_HAIR_ENCHANTRESS16}}}
		)
	}
	[/if]
	{MODIFICATION_COLORCHANGER_CODE ("$merfolk.basecolor,$merfolk.basecolor_hair") ("$merfolk.newcolor,$merfolk.newcolor_hair") $merfolk.idcolor}
	#enddef
	
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([have_unit]
            {MERFOLK_RACE_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		(1..9)
		({THEN_RANDOM ({VARIABLE merfolk.newcolor {MERFOLK_BLUE}} {VARIABLE merfolk.idcolor MERFOLK_BLUE} {MERFOLK_HAIR_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 2 ({VARIABLE merfolk.newcolor {MERFOLK_DIVINER18}} {VARIABLE merfolk.idcolor MERFOLK_DIVINER18} {MERFOLK_HAIR_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 3 ({VARIABLE merfolk.newcolor {MERFOLK_DIVINER16}} {VARIABLE merfolk.idcolor MERFOLK_DIVINER16} {MERFOLK_HAIR_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 4 ({VARIABLE merfolk.newcolor {MERFOLK_JAVELINEER18}} {VARIABLE merfolk.idcolor MERFOLK_JAVELINEER18} {MERFOLK_HAIR_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 5 ({VARIABLE merfolk.newcolor {MERFOLK_JAVELINEER16}} {VARIABLE merfolk.idcolor MERFOLK_JAVELINEER16} {MERFOLK_HAIR_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 6 ({VARIABLE merfolk.newcolor {MERFOLK_PRIESTESS18}} {VARIABLE merfolk.idcolor MERFOLK_PRIESTESS18} {MERFOLK_HAIR_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 7 ({VARIABLE merfolk.newcolor {MERFOLK_PRIESTESS16}} {VARIABLE merfolk.idcolor MERFOLK_PRIESTESS16} {MERFOLK_HAIR_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 8 ({VARIABLE merfolk.newcolor {MERFOLK_SPEARMAN18}} {VARIABLE merfolk.idcolor MERFOLK_SPEARMAN18} {MERFOLK_HAIR_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 9 ({VARIABLE merfolk.newcolor {MERFOLK_SPEARMAN16}} {VARIABLE merfolk.idcolor MERFOLK_SPEARMAN16} {MERFOLK_HAIR_RANDOMISER_UCV})}
		)
		
		(1..10)
		({THEN_RANDOM ({VARIABLE merfolk.newcolor {MERFOLK_BLUE}} {VARIABLE merfolk.idcolor MERFOLK_BLUE} {MERFOLK_HAIR_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 2 ({VARIABLE merfolk.newcolor {MERFOLK_DIVINER18}} {VARIABLE merfolk.idcolor MERFOLK_DIVINER18} {MERFOLK_HAIR_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 3 ({VARIABLE merfolk.newcolor {MERFOLK_DIVINER16}} {VARIABLE merfolk.idcolor MERFOLK_DIVINER16} {MERFOLK_HAIR_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 4 ({VARIABLE merfolk.newcolor {MERFOLK_JAVELINEER18}} {VARIABLE merfolk.idcolor MERFOLK_JAVELINEER18} {MERFOLK_HAIR_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 5 ({VARIABLE merfolk.newcolor {MERFOLK_JAVELINEER16}} {VARIABLE merfolk.idcolor MERFOLK_JAVELINEER16} {MERFOLK_HAIR_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 6 ({VARIABLE merfolk.newcolor {MERFOLK_PRIESTESS18}} {VARIABLE merfolk.idcolor MERFOLK_PRIESTESS18} {MERFOLK_HAIR_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 7 ({VARIABLE merfolk.newcolor {MERFOLK_PRIESTESS16}} {VARIABLE merfolk.idcolor MERFOLK_PRIESTESS16} {MERFOLK_HAIR_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 8 ({VARIABLE merfolk.newcolor {MERFOLK_SPEARMAN18}} {VARIABLE merfolk.idcolor MERFOLK_SPEARMAN18} {MERFOLK_HAIR_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 9 ({VARIABLE merfolk.newcolor {MERFOLK_SPEARMAN16}} {VARIABLE merfolk.idcolor MERFOLK_SPEARMAN16} {MERFOLK_HAIR_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 10 ({RANDOM 1..8} [if]
			{THEN_RANDOM ({VARIABLE merfolk.newcolor {MERFOLK_ENCHANTRESS18}} {VARIABLE merfolk.idcolor MERFOLK_ENCHANTRESS18} {MERFOLK_HAIR_RANDOMISER_UCV})}
			{ELSEIF_RANDOM 2 ({VARIABLE merfolk.newcolor {MERFOLK_ENCHANTRESS16}} {VARIABLE merfolk.idcolor MERFOLK_ENCHANTRESS16} {MERFOLK_HAIR_RANDOMISER_UCV})}
			{ELSEIF_RANDOM 3 ({VARIABLE merfolk.newcolor {MERFOLK_ENTANGLER18}} {VARIABLE merfolk.idcolor MERFOLK_ENTANGLER18} {MERFOLK_HAIR_RANDOMISER_UCV})}
			{ELSEIF_RANDOM 4 ({VARIABLE merfolk.newcolor {MERFOLK_ENTANGLER16}} {VARIABLE merfolk.idcolor MERFOLK_ENTANGLER16} {MERFOLK_HAIR_RANDOMISER_UCV})}
			{ELSEIF_RANDOM 5 ({VARIABLE merfolk.newcolor {MERFOLK_NETCASTER18}} {VARIABLE merfolk.idcolor MERFOLK_NETCASTER18} {MERFOLK_HAIR_RANDOMISER_UCV})}
			{ELSEIF_RANDOM 6 ({VARIABLE merfolk.newcolor {MERFOLK_NETCASTER16}} {VARIABLE merfolk.idcolor MERFOLK_NETCASTER16} {MERFOLK_HAIR_RANDOMISER_UCV})}
			{ELSEIF_RANDOM 7 ({VARIABLE merfolk.newcolor {MERFOLK_SIREN18}} {VARIABLE merfolk.idcolor MERFOLK_SIREN18} {MERFOLK_HAIR_RANDOMISER_UCV})}
			{ELSEIF_RANDOM 8 ({VARIABLE merfolk.newcolor {MERFOLK_SIREN16}} {VARIABLE merfolk.idcolor MERFOLK_SIREN16} {MERFOLK_HAIR_RANDOMISER_UCV})}
			[/if])}
		)
	}
	
########################################################################
############				Orcs/Goblins/Wolves				############
########################################################################

	### Orcish Grunt Armour Color
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([have_unit]
            {ORCISH_GRUNT_ARMOUR_RACE_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		(1..12)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR10_COLOR}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_10_COLOR}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR25_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR25_COLOR}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR2510_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR2510_COLOR}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR25_10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR25_10_COLOR}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR50_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR50_COLOR}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR5010_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR5010_COLOR}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR50_10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR50_10_COLOR}}
		{ELSEIF_RANDOM 10 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_25_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_25_COLOR}}
		{ELSEIF_RANDOM 11 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_2510_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_2510_COLOR}}
		{ELSEIF_RANDOM 12 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_25_10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_25_10_COLOR}}
		)
		
		(1..13)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR10_COLOR}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_10_COLOR}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR25_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR25_COLOR}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR2510_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR2510_COLOR}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR25_10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR25_10_COLOR}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR50_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR50_COLOR}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR5010_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR5010_COLOR}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR50_10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR50_10_COLOR}}
		{ELSEIF_RANDOM 10 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_25_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_25_COLOR}}
		{ELSEIF_RANDOM 11 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_2510_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_2510_COLOR}}
		{ELSEIF_RANDOM 12 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_25_10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_25_10_COLOR}}
		{ELSEIF_RANDOM 13 ({RANDOM 1..5} [if]
			{THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_LIGHT_LOYALIST_ARMOUR_COLOR} BASE_NORTHERNER_LIGHT_LOYALIST_ARMOUR_COLOR}}
			{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_HEAVY_INFANTERY_ARMOUR_COLOR} BASE_NORTHERNER_HEAVY_INFANTERY_ARMOUR_COLOR}}
			{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ELVISH_ARMOUR_COLOR} BASE_NORTHERNER_ELVISH_ARMOUR_COLOR}}
			{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_DUNEFOLK_ARMOUR_COLOR} BASE_NORTHERNER_DUNEFOLK_ARMOUR_COLOR}}
			{ELSEIF_RANDOM 5 ({RANDOM 1..2} [if]
				{THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR},{BASE_NORTHERNER_ORCISH_SKIN_COLOR} {BASE_NORTHERNER_LIGHT_LOYALIST_ARMOUR_COLOR},{BASE_NORTHERNER_HUMAN_SKIN_COLOR} BASE_NORTHERNER_LIGHT_LOYALIST_ARMOUR_COLOR_SKIN}}
				{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR},{BASE_NORTHERNER_ORCISH_SKIN_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR},{BASE_NORTHERNER_HUMAN_SKIN_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_COLOR_SKIN}}
				[/if])}
			[/if])}
		)	
	}
	
	### Orcish Ruler/XBowmen Armour Color
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([have_unit]
            {ORCISH_BOWMAN_ARMOUR_RACE_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		(1..12)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR10_COLOR}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_10_COLOR}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR25_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR25_COLOR}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR2510_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR2510_COLOR}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR25_10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR25_10_COLOR}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR50_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR50_COLOR}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR5010_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR5010_COLOR}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR50_10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR50_10_COLOR}}
		{ELSEIF_RANDOM 10 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_25_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_25_COLOR}}
		{ELSEIF_RANDOM 11 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_2510_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_2510_COLOR}}
		{ELSEIF_RANDOM 12 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_25_10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_25_10_COLOR}}
		)
		
		(1..13)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR10_COLOR}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_10_COLOR}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR25_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR25_COLOR}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR2510_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR2510_COLOR}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR25_10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR25_10_COLOR}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR50_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR50_COLOR}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR5010_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR5010_COLOR}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR50_10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR50_10_COLOR}}
		{ELSEIF_RANDOM 10 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_25_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_25_COLOR}}
		{ELSEIF_RANDOM 11 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_2510_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_2510_COLOR}}
		{ELSEIF_RANDOM 12 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_25_10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_25_10_COLOR}}
		{ELSEIF_RANDOM 13 ({RANDOM 1..5} [if]
			{THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_DARK_LOYALIST_ARMOUR_COLOR} BASE_NORTHERNER_DARK_LOYALIST_ARMOUR_COLOR}}
			{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_HEAVY_INFANTERY_ARMOUR_COLOR} BASE_NORTHERNER_HEAVY_INFANTERY_ARMOUR_COLOR}}
			{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ELVISH_ARMOUR_COLOR} BASE_NORTHERNER_ELVISH_ARMOUR_COLOR}}
			{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_DUNEFOLK_ARMOUR_COLOR} BASE_NORTHERNER_DUNEFOLK_ARMOUR_COLOR}}
			{ELSEIF_RANDOM 5 ({RANDOM 1..2} [if]
				{THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR},{BASE_NORTHERNER_ORCISH_SKIN_COLOR} {BASE_NORTHERNER_DARK_LOYALIST_ARMOUR_COLOR},{BASE_NORTHERNER_HUMAN_SKIN_COLOR} BASE_NORTHERNER_DARK_LOYALIST_ARMOUR_COLOR_SKIN}}
				{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR},{BASE_NORTHERNER_ORCISH_SKIN_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR},{BASE_NORTHERNER_HUMAN_SKIN_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_COLOR_SKIN}}
				[/if])}
			[/if])}
		)	
	}
	
	### Goblin Armour Color
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([have_unit]
            {GOBLIN_ARMOUR_RACE_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		(1..12)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_COLOR}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR10_COLOR}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_10_COLOR}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR25_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR25_COLOR}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR2510_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR2510_COLOR}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR25_10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR25_10_COLOR}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR50_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR50_COLOR}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR5010_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR5010_COLOR}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR50_10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR50_10_COLOR}}
		{ELSEIF_RANDOM 10 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_25_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_25_COLOR}}
		{ELSEIF_RANDOM 11 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_2510_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_2510_COLOR}}
		{ELSEIF_RANDOM 12 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_25_10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_25_10_COLOR}}
		)
		
		(1..13)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_COLOR}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR10_COLOR}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_10_COLOR}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR25_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR25_COLOR}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR2510_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR2510_COLOR}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR25_10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR25_10_COLOR}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR50_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR50_COLOR}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR5010_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR5010_COLOR}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR50_10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR50_10_COLOR}}
		{ELSEIF_RANDOM 10 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_25_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_25_COLOR}}
		{ELSEIF_RANDOM 11 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_2510_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_2510_COLOR}}
		{ELSEIF_RANDOM 12 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_25_10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_25_10_COLOR}}
		{ELSEIF_RANDOM 13 ({RANDOM 1..4} [if]
			{THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_LIGHT_LOYALIST_ARMOUR_COLOR} BASE_NORTHERNER_LIGHT_LOYALIST_ARMOUR_COLOR}}
			{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_HEAVY_INFANTERY_ARMOUR_COLOR} BASE_NORTHERNER_HEAVY_INFANTERY_ARMOUR_COLOR}}
			{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ELVISH_ARMOUR_COLOR} BASE_NORTHERNER_ELVISH_ARMOUR_COLOR}}
			{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_DUNEFOLK_ARMOUR_COLOR} BASE_NORTHERNER_DUNEFOLK_ARMOUR_COLOR}}
			[/if])}
		)	
	}
	
	### Assassin Cloth Color
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([have_unit]
            {ORCISH_ASSASSIN_RACE_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		(1..11)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_BLUEISH_BROWN} BASE_NORTHERNER_ORCISH_ASSASSIN_BLUEISH_BROWN}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_REDDISH_GREEN} BASE_NORTHERNER_ORCISH_ASSASSIN_REDDISH_GREEN}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_BROWNISH} BASE_NORTHERNER_ORCISH_ASSASSIN_BROWNISH}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_BLUEISH} BASE_NORTHERNER_ORCISH_ASSASSIN_BLUEISH}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_BROWNISH_RED} BASE_NORTHERNER_ORCISH_ASSASSIN_BROWNISH_RED}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_BLUEISH_BROWN_COMBO} BASE_NORTHERNER_ORCISH_ASSASSIN_BLUEISH_BROWN_COMBO}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_REDDISH_GREEN_COMBO} BASE_NORTHERNER_ORCISH_ASSASSIN_REDDISH_GREEN_COMBO}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_BROWNISH_COMBO} BASE_NORTHERNER_ORCISH_ASSASSIN_BROWNISH_COMBO}}
		{ELSEIF_RANDOM 10 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_BLUEISH_COMBO} BASE_NORTHERNER_ORCISH_ASSASSIN_BLUEISH_COMBO}}
		{ELSEIF_RANDOM 11 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_BROWNISH_RED_COMBO} BASE_NORTHERNER_ORCISH_ASSASSIN_BROWNISH_RED_COMBO}}
		)
		
		(1..12)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_BLUEISH_BROWN} BASE_NORTHERNER_ORCISH_ASSASSIN_BLUEISH_BROWN}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_REDDISH_GREEN} BASE_NORTHERNER_ORCISH_ASSASSIN_REDDISH_GREEN}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_BROWNISH} BASE_NORTHERNER_ORCISH_ASSASSIN_BROWNISH}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_BLUEISH} BASE_NORTHERNER_ORCISH_ASSASSIN_BLUEISH}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_BROWNISH_RED} BASE_NORTHERNER_ORCISH_ASSASSIN_BROWNISH_RED}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_BLUEISH_BROWN_COMBO} BASE_NORTHERNER_ORCISH_ASSASSIN_BLUEISH_BROWN_COMBO}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_REDDISH_GREEN_COMBO} BASE_NORTHERNER_ORCISH_ASSASSIN_REDDISH_GREEN_COMBO}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_BROWNISH_COMBO} BASE_NORTHERNER_ORCISH_ASSASSIN_BROWNISH_COMBO}}
		{ELSEIF_RANDOM 10 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_BLUEISH_COMBO} BASE_NORTHERNER_ORCISH_ASSASSIN_BLUEISH_COMBO}}
		{ELSEIF_RANDOM 11 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_BROWNISH_RED_COMBO} BASE_NORTHERNER_ORCISH_ASSASSIN_BROWNISH_RED_COMBO}}
		{ELSEIF_RANDOM 12 ({RANDOM 1..6} [if]
			{THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_BLUE_YELLOW} BASE_NORTHERNER_ORCISH_ASSASSIN_BLUE_YELLOW}}
			{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_GREEN} BASE_NORTHERNER_ORCISH_ASSASSIN_GREEN}}
			{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_BLUE} BASE_NORTHERNER_ORCISH_ASSASSIN_BLUE}}
			{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_PURPLE} BASE_NORTHERNER_ORCISH_ASSASSIN_PURPLE}}
			{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_MOSS} BASE_NORTHERNER_ORCISH_ASSASSIN_MOSS}}
			{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_GREY} BASE_NORTHERNER_ORCISH_ASSASSIN_GREY}}
			{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_MUMMY} BASE_NORTHERNER_ORCISH_ASSASSIN_MUMMY}}
			[/if])}
		)	
	}
	
	### Wolf Rider randomizer	
	
	#define WOLF_PLACE_CODE FILTERWML BASECOLOR FURCOLOR NEWCOLOR NEWFURCOLOR ID
    [elseif]
		[have_unit]
            {FILTERWML}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		[then]
		{MODIFICATION_COLORCHANGER_CODE {BASECOLOR},{FURCOLOR} {NEWCOLOR},{NEWFURCOLOR} {ID}}
		[/then]
	[/elseif]
	
	#enddef
	
	#define WOLF_BASE_CODE_RANDOMISER_UCV
		[if]
		[false][/false]
		[then]
		[/then]
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([have_unit]
            {WOLF_RACE_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift_hair=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		(1..5)
		({THEN_RANDOM ({VARIABLE wolfrider.newcolor_fur {WOLF_FUR}} {VARIABLE wolfrider.idcolor_fur WOLF_FUR})}
		{ELSEIF_RANDOM 2 ({VARIABLE wolfrider.newcolor_fur {WOLF_PILLAGE_FUR}} {VARIABLE wolfrider.idcolor_fur WOLF_PILLAGE_FUR})}
		{ELSEIF_RANDOM 3 ({VARIABLE wolfrider.newcolor_fur {GREAT_WOLF_FUR}} {VARIABLE wolfrider.idcolor_fur GREAT_WOLF_FUR})}
		{ELSEIF_RANDOM 4 ({VARIABLE wolfrider.newcolor_fur {WOLF_FUR_WOLF_PILLAGE_FUR}} {VARIABLE wolfrider.idcolor_fur WOLF_FUR_WOLF_PILLAGE_FUR})}
		{ELSEIF_RANDOM 5 ({VARIABLE wolfrider.newcolor_fur {WOLF_FUR_GREAT_WOLF_FUR}} {VARIABLE wolfrider.idcolor_fur WOLF_FUR_GREAT_WOLF_FUR})}
		)

		(1..6)
		({THEN_RANDOM ({VARIABLE wolfrider.newcolor_fur {WOLF_FUR}} {VARIABLE wolfrider.idcolor_fur WOLF_FUR})}
		{ELSEIF_RANDOM 2 ({VARIABLE wolfrider.newcolor_fur {WOLF_PILLAGE_FUR}} {VARIABLE wolfrider.idcolor_fur WOLF_PILLAGE_FUR})}
		{ELSEIF_RANDOM 3 ({VARIABLE wolfrider.newcolor_fur {GREAT_WOLF_FUR}} {VARIABLE wolfrider.idcolor_fur GREAT_WOLF_FUR})}
		{ELSEIF_RANDOM 4 ({VARIABLE wolfrider.newcolor_fur {WOLF_FUR_WOLF_PILLAGE_FUR}} {VARIABLE wolfrider.idcolor_fur WOLF_FUR_WOLF_PILLAGE_FUR})}
		{ELSEIF_RANDOM 5 ({VARIABLE wolfrider.newcolor_fur {WOLF_FUR_GREAT_WOLF_FUR}} {VARIABLE wolfrider.idcolor_fur WOLF_FUR_GREAT_WOLF_FUR})}
		{ELSEIF_RANDOM 6 ({RANDOM 1..4} [if]
			{THEN_RANDOM ({VARIABLE wolfrider.newcolor_fur {DIREWOLF_FUR}} {VARIABLE wolfrider.idcolor_fur DIREWOLF_FUR})}
			{ELSEIF_RANDOM 2 ({VARIABLE wolfrider.newcolor_fur {WOLF_PILLAGE_FUR_DIREWOLF_FUR}} {VARIABLE wolfrider.idcolor_fur WOLF_PILLAGE_FUR_DIREWOLF_FUR})}
			{ELSEIF_RANDOM 3 ({VARIABLE wolfrider.newcolor_fur {GREAT_WOLF_FUR_DIREWOLF_FUR}} {VARIABLE wolfrider.idcolor_fur GREAT_WOLF_FUR_DIREWOLF_FUR})}
			{ELSEIF_RANDOM 4 ({RANDOM 1..3} [if]
				{THEN_RANDOM ({VARIABLE wolfrider.newcolor_fur {WHITE_WOLF_FUR}} {VARIABLE wolfrider.idcolor_fur WHITE_WOLF_FUR})}
				{ELSEIF_RANDOM 2 ({VARIABLE wolfrider.newcolor_fur {WHITEGREY_WOLF_FUR}} {VARIABLE wolfrider.idcolor_fur WHITEGREY_WOLF_FUR})}
				{ELSEIF_RANDOM 3 ({VARIABLE wolfrider.newcolor_fur {BLACK_WOLF_FUR}} {VARIABLE wolfrider.idcolor_fur BLACK_WOLF_FUR})}
				[/if])}
			[/if])}
		)
	}
	[/if]
	
	[if]
	[false][/false]
	[then]
	[/then]
	{WOLF_PLACE_CODE {WOLF_RIDER_RACE_LIST} $wolfrider.basecolor $wolfrider.basecolor_fur $wolfrider.newcolor $wolfrider.newcolor_fur ("$wolfrider.newcolor,$wolfrider.newcolor_fur")}
	{WOLF_PLACE_CODE {PILLAGERWOLF_RIDER_RACE_LIST} $wolfrider.basecolor $wolfriderpillager.basecolor_fur $wolfrider.newcolor $wolfrider.newcolor_fur ("$wolfrider.newcolor,$wolfrider.newcolor_fur")}
	{WOLF_PLACE_CODE {GREATWOLF_RIDER_RACE_LIST} $wolfrider.basecolor $greatwolfrider.basecolor_fur $wolfrider.newcolor $wolfrider.newcolor_fur ("$wolfrider.newcolor,$wolfrider.newcolor_fur")}
	{WOLF_PLACE_CODE {DIREWOLF_RIDER_RACE_LIST} $wolfrider.basecolor $direwolfrider.basecolor_fur $wolfrider.newcolor $wolfrider.newcolor_fur ("$wolfrider.newcolor,$wolfrider.newcolor_fur")}
	[/if]
	#enddef
	
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([have_unit]
            {WOLF_RACE_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		(1..12)
		({THEN_RANDOM ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 2 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR10_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR10_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 3 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR_10_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR_10_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 4 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR25_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR25_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 5 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR2510_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR2510_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 6 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR25_10_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR25_10_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 7 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR50_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR50_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 8 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR5010_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR5010_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 9 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR50_10_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR50_10_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 10 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR_25_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR_25_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 11 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR_2510_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR_2510_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 12 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR_25_10_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR_25_10_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		)
		
		(1..13)
		({THEN_RANDOM ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 2 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR10_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR10_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 3 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR_10_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR_10_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 4 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR25_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR25_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 5 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR2510_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR2510_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 6 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR25_10_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR25_10_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 7 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR50_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR50_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 8 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR5010_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR5010_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 9 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR50_10_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR50_10_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 10 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR_25_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR_25_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 11 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR_2510_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR_2510_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 12 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR_25_10_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR_25_10_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 13 ({RANDOM 1..4} [if]
			{THEN_RANDOM ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_LIGHT_LOYALIST_ARMOUR_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_LIGHT_LOYALIST_ARMOUR_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
			{ELSEIF_RANDOM 2 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_HEAVY_INFANTERY_ARMOUR_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_HEAVY_INFANTERY_ARMOUR_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
			{ELSEIF_RANDOM 3 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ELVISH_ARMOUR_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ELVISH_ARMOUR_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
			{ELSEIF_RANDOM 4 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_DUNEFOLK_ARMOUR_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_DUNEFOLK_ARMOUR_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
			[/if])}
		)
	}
########################################################################
############					WOSE						############
########################################################################

	### Wose color randomizer
	#define WOSE_BARK_RANDOMISER_UCV
	### Wose Bark randomizer
	[if]
		[false][/false]
		[then]
		[/then]
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([have_unit]
            {WOSE_RACE_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift_hair=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		(1..11)
		({THEN_RANDOM {VARIABLE wose.newcolor_bark {DEFAULT_WOSE_BARK}}}
		{ELSEIF_RANDOM 2 {VARIABLE wose.newcolor_bark {WOSE_BARK_CS1}}}
		{ELSEIF_RANDOM 3 {VARIABLE wose.newcolor_bark {WOSE_BARK_CS2}}}
		{ELSEIF_RANDOM 4 {VARIABLE wose.newcolor_bark {WOSE_BARK_CS3}}}
		{ELSEIF_RANDOM 5 {VARIABLE wose.newcolor_bark {WOSE_BARK_CS4}}}
		{ELSEIF_RANDOM 6 {VARIABLE wose.newcolor_bark {WOSE_BARK_CS5}}}
		{ELSEIF_RANDOM 7 {VARIABLE wose.newcolor_bark {WOSE_BARK_CS6}}}
		{ELSEIF_RANDOM 8 {VARIABLE wose.newcolor_bark {WOSE_BARK_BROWNER}}}
		{ELSEIF_RANDOM 9 {VARIABLE wose.newcolor_bark {WOSE_BARK_LIGHTBROWN_GREEN1}}}
		{ELSEIF_RANDOM 10 {VARIABLE wose.newcolor_bark {WOSE_BARK_LIGHTBROWN_GREEN2}}}
		{ELSEIF_RANDOM 11 {VARIABLE wose.newcolor_bark {WOSE_BARK_LIGHTBROWN}}}
		)
		
		(1..12)
		({THEN_RANDOM {VARIABLE wose.newcolor_bark {DEFAULT_WOSE_BARK}}}
		{ELSEIF_RANDOM 2 {VARIABLE wose.newcolor_bark {WOSE_BARK_CS1}}}
		{ELSEIF_RANDOM 3 {VARIABLE wose.newcolor_bark {WOSE_BARK_CS2}}}
		{ELSEIF_RANDOM 4 {VARIABLE wose.newcolor_bark {WOSE_BARK_CS3}}}
		{ELSEIF_RANDOM 5 {VARIABLE wose.newcolor_bark {WOSE_BARK_CS4}}}
		{ELSEIF_RANDOM 6 {VARIABLE wose.newcolor_bark {WOSE_BARK_CS5}}}
		{ELSEIF_RANDOM 7 {VARIABLE wose.newcolor_bark {WOSE_BARK_CS6}}}
		{ELSEIF_RANDOM 8 {VARIABLE wose.newcolor_bark {WOSE_BARK_BROWNER}}}
		{ELSEIF_RANDOM 9 {VARIABLE wose.newcolor_bark {WOSE_BARK_LIGHTBROWN_GREEN1}}}
		{ELSEIF_RANDOM 10 {VARIABLE wose.newcolor_bark {WOSE_BARK_LIGHTBROWN_GREEN2}}}
		{ELSEIF_RANDOM 11 {VARIABLE wose.newcolor_bark {WOSE_BARK_LIGHTBROWN}}}
		{ELSEIF_RANDOM 12 ({RANDOM 1..3} [if]
			{THEN_RANDOM {VARIABLE wose.newcolor_bark {WOSE_BARK_BIRCH}}}
			{ELSEIF_RANDOM 2 {VARIABLE wose.newcolor_bark {WOSE_BARK_DUNEFOLK1}}}
			{ELSEIF_RANDOM 3 {VARIABLE wose.newcolor_bark {WOSE_BARK_GREEN2}}}
			[/if])}
		)
	}
	[/if]
	{MODIFICATION_COLORCHANGER_CODE ("$wose.basecolor_bark,$wose.basecolor_leaf") ("$wose.newcolor_bark,$wose.newcolor_leaf") $wose.idcolor}
	#enddef
	
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([have_unit]
            {WOSE_RACE_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		(1..7)
		({THEN_RANDOM ({VARIABLE wose.newcolor_leaf {DEFAULT_WOSE_LEAF}} {VARIABLE wose.idcolor DEFAULT_WOSE_LEAFs} {WOSE_BARK_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 2 ({VARIABLE wose.newcolor_leaf {WOSE_LEAF_CS1}} {VARIABLE wose.idcolor WOSE_LEAF_CS1} {WOSE_BARK_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 3 ({VARIABLE wose.newcolor_leaf {WOSE_LEAF_CS2}} {VARIABLE wose.idcolor WOSE_LEAF_CS2} {WOSE_BARK_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 4 ({VARIABLE wose.newcolor_leaf {WOSE_LEAF_CS3}} {VARIABLE wose.idcolor WOSE_LEAF_CS3} {WOSE_BARK_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 5 ({VARIABLE wose.newcolor_leaf {WOSE_LEAF_CS4}} {VARIABLE wose.idcolor WOSE_LEAF_CS4} {WOSE_BARK_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 6 ({VARIABLE wose.newcolor_leaf {WOSE_LEAF_CS5}} {VARIABLE wose.idcolor WOSE_LEAF_CS5} {WOSE_BARK_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 7 ({VARIABLE wose.newcolor_leaf {WOSE_LEAF_CS6}} {VARIABLE wose.idcolor WOSE_LEAF_CS6} {WOSE_BARK_RANDOMISER_UCV})}
		)
		
		(1..8)
		({THEN_RANDOM ({VARIABLE wose.newcolor_leaf {DEFAULT_WOSE_LEAF}} {VARIABLE wose.idcolor DEFAULT_WOSE_LEAFs} {WOSE_BARK_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 2 ({VARIABLE wose.newcolor_leaf {WOSE_LEAF_CS1}} {VARIABLE wose.idcolor WOSE_LEAF_CS1} {WOSE_BARK_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 3 ({VARIABLE wose.newcolor_leaf {WOSE_LEAF_CS2}} {VARIABLE wose.idcolor WOSE_LEAF_CS2} {WOSE_BARK_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 4 ({VARIABLE wose.newcolor_leaf {WOSE_LEAF_CS3}} {VARIABLE wose.idcolor WOSE_LEAF_CS3} {WOSE_BARK_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 5 ({VARIABLE wose.newcolor_leaf {WOSE_LEAF_CS4}} {VARIABLE wose.idcolor WOSE_LEAF_CS4} {WOSE_BARK_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 6 ({VARIABLE wose.newcolor_leaf {WOSE_LEAF_CS5}} {VARIABLE wose.idcolor WOSE_LEAF_CS5} {WOSE_BARK_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 7 ({VARIABLE wose.newcolor_leaf {WOSE_LEAF_CS6}} {VARIABLE wose.idcolor WOSE_LEAF_CS6} {WOSE_BARK_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 8 ({RANDOM 1..7} [if]
			{THEN_RANDOM ({VARIABLE wose.newcolor_leaf {WOSE_LEAF_AUTUMN1}} {VARIABLE wose.idcolor WOSE_LEAF_AUTUMN1} {WOSE_BARK_RANDOMISER_UCV})}
			{ELSEIF_RANDOM 2 ({VARIABLE wose.newcolor_leaf {WOSE_LEAF_AUTUMN2}} {VARIABLE wose.idcolor WOSE_LEAF_AUTUMN2} {WOSE_BARK_RANDOMISER_UCV})}
			{ELSEIF_RANDOM 3 ({VARIABLE wose.newcolor_leaf {WOSE_LEAF_AUTUMN3}} {VARIABLE wose.idcolor WOSE_LEAF_AUTUMN3} {WOSE_BARK_RANDOMISER_UCV})}
			{ELSEIF_RANDOM 4 ({VARIABLE wose.newcolor_leaf {WOSE_LEAF_AUTUMN4}} {VARIABLE wose.idcolor WOSE_LEAF_AUTUMN4} {WOSE_BARK_RANDOMISER_UCV})}
			{ELSEIF_RANDOM 5 ({VARIABLE wose.newcolor_leaf {WOSE_LEAF_AUTUMN5}} {VARIABLE wose.idcolor WOSE_LEAF_AUTUMN5} {WOSE_BARK_RANDOMISER_UCV})}
			{ELSEIF_RANDOM 6 ({VARIABLE wose.newcolor_leaf {WOSE_LEAF_AUTUMN6}} {VARIABLE wose.idcolor WOSE_LEAF_AUTUMN6} {WOSE_BARK_RANDOMISER_UCV})}
			{ELSEIF_RANDOM 7 ({VARIABLE wose.newcolor_leaf {WOSE_LEAF_WINTER1}} {VARIABLE wose.idcolor WOSE_LEAF_WINTER1} {WOSE_BARK_RANDOMISER_UCV})}
			[/if])}
		)
	}
	
########################################################################
############					NAGA						############
########################################################################

	### Wose color randomizer
	#define NAGA_SCALE_RANDOMISER_UCV
	### Wose Bark randomizer
	[if]
		[false][/false]
		[then]
		[/then]
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([have_unit]
            {NAGA_RACE_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift_hair=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		(1..7)
		({THEN_RANDOM {VARIABLE naga.newcolor_top {DEFAULT_NAGA_TOP}}}
		{ELSEIF_RANDOM 2 {VARIABLE naga.newcolor_top {NAGA_TOP_GREEN1}}}
		{ELSEIF_RANDOM 3 {VARIABLE naga.newcolor_top {NAGA_TOP_GREEN2}}}
		{ELSEIF_RANDOM 4 {VARIABLE naga.newcolor_top {NAGA_TOP_GREEN3}}}
		{ELSEIF_RANDOM 5 {VARIABLE naga.newcolor_top {NAGA_TOP_GREEN4}}}
		{ELSEIF_RANDOM 6 {VARIABLE naga.newcolor_top {NAGA_TOP_GREEN5}}}
		{ELSEIF_RANDOM 7 {VARIABLE naga.newcolor_top {NAGA_TOP_GLIDER}}}
		)
		
		(1..7)
		(
					[variable]
						name=random
						numerical_equals=8
					[/variable]
					[then]
					[/then]
		{ELSEIF_IF naga.idcolor NAGA_BOTTOM_WHITE {VARIABLE naga.newcolor_top {NAGA_TOP_WHITE}}}
		{ELSEIF_IF naga.idcolor NAGA_BOTTOM_DESERT {VARIABLE naga.newcolor_top {NAGA_TOP_DESERT}}}
		{ELSEIF_IF naga.idcolor NAGA_BOTTOM_DEEPSEA {VARIABLE naga.newcolor_top {NAGA_TOP_DEEPSEA}}}
		{ELSEIF_RANDOM 1 {VARIABLE naga.newcolor_top {DEFAULT_NAGA_TOP}}}
		{ELSEIF_RANDOM 2 {VARIABLE naga.newcolor_top {NAGA_TOP_GREEN1}}}
		{ELSEIF_RANDOM 3 {VARIABLE naga.newcolor_top {NAGA_TOP_GREEN2}}}
		{ELSEIF_RANDOM 4 {VARIABLE naga.newcolor_top {NAGA_TOP_GREEN3}}}
		{ELSEIF_RANDOM 5 {VARIABLE naga.newcolor_top {NAGA_TOP_GREEN4}}}
		{ELSEIF_RANDOM 6 {VARIABLE naga.newcolor_top {NAGA_TOP_GREEN5}}}
		{ELSEIF_RANDOM 7 {VARIABLE naga.newcolor_top {NAGA_TOP_GLIDER}}}
		)
	}
	[/if]
	{MODIFICATION_COLORCHANGER_CODE ("$naga.basecolor_top,$naga.basecolor_bottom") ("$naga.newcolor_top,$naga.newcolor_bottom") $naga.idcolor}
	#enddef
	
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([have_unit]
            {NAGA_RACE_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		(1..7)
		({THEN_RANDOM ({VARIABLE naga.newcolor_bottom {DEFAULT_NAGA_BOTTOM}} {VARIABLE naga.idcolor DEFAULT_NAGA_BOTTOM} {NAGA_SCALE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 2 ({VARIABLE naga.newcolor_bottom {NAGA_BOTTOM_OCHER1}} {VARIABLE naga.idcolor NAGA_BOTTOM_OCHER1} {NAGA_SCALE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 3 ({VARIABLE naga.newcolor_bottom {NAGA_BOTTOM_OCHER2}} {VARIABLE naga.idcolor NAGA_BOTTOM_OCHER2} {NAGA_SCALE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 4 ({VARIABLE naga.newcolor_bottom {NAGA_BOTTOM_OCHER3}} {VARIABLE naga.idcolor NAGA_BOTTOM_OCHER3} {NAGA_SCALE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 5 ({VARIABLE naga.newcolor_bottom {NAGA_BOTTOM_OCHER4}} {VARIABLE naga.idcolor NAGA_BOTTOM_OCHER4} {NAGA_SCALE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 6 ({VARIABLE naga.newcolor_bottom {NAGA_BOTTOM_OCHER5}} {VARIABLE naga.idcolor NAGA_BOTTOM_OCHER5} {NAGA_SCALE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 7 ({VARIABLE naga.newcolor_bottom {NAGA_BOTTOM_GLIDER}} {VARIABLE naga.idcolor NAGA_BOTTOM_GLIDER} {NAGA_SCALE_RANDOMISER_UCV})}
		)
		
		(1..8)
		({THEN_RANDOM ({VARIABLE naga.newcolor_bottom {DEFAULT_NAGA_BOTTOM}} {VARIABLE naga.idcolor DEFAULT_NAGA_BOTTOM} {NAGA_SCALE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 2 ({VARIABLE naga.newcolor_bottom {NAGA_BOTTOM_OCHER1}} {VARIABLE naga.idcolor NAGA_BOTTOM_OCHER1} {NAGA_SCALE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 3 ({VARIABLE naga.newcolor_bottom {NAGA_BOTTOM_OCHER2}} {VARIABLE naga.idcolor NAGA_BOTTOM_OCHER2} {NAGA_SCALE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 4 ({VARIABLE naga.newcolor_bottom {NAGA_BOTTOM_OCHER3}} {VARIABLE naga.idcolor NAGA_BOTTOM_OCHER3} {NAGA_SCALE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 5 ({VARIABLE naga.newcolor_bottom {NAGA_BOTTOM_OCHER4}} {VARIABLE naga.idcolor NAGA_BOTTOM_OCHER4} {NAGA_SCALE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 6 ({VARIABLE naga.newcolor_bottom {NAGA_BOTTOM_OCHER5}} {VARIABLE naga.idcolor NAGA_BOTTOM_OCHER5} {NAGA_SCALE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 7 ({VARIABLE naga.newcolor_bottom {NAGA_BOTTOM_GLIDER}} {VARIABLE naga.idcolor NAGA_BOTTOM_GLIDER} {NAGA_SCALE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 8 ({RANDOM 1..3} [if]
			{THEN_RANDOM ({VARIABLE naga.newcolor_bottom {NAGA_BOTTOM_WHITE}} {VARIABLE naga.idcolor NAGA_BOTTOM_WHITE} {NAGA_SCALE_RANDOMISER_UCV})}
			{ELSEIF_RANDOM 2 ({VARIABLE naga.newcolor_bottom {NAGA_BOTTOM_DESERT}} {VARIABLE naga.idcolor NAGA_BOTTOM_DESERT} {NAGA_SCALE_RANDOMISER_UCV})}
			{ELSEIF_RANDOM 3 ({VARIABLE naga.newcolor_bottom {NAGA_BOTTOM_DEEPSEA}} {VARIABLE naga.idcolor NAGA_BOTTOM_DEEPSEA} {NAGA_SCALE_RANDOMISER_UCV})}
			[/if])}
		)
	}
	[/if]
[/event]

########################################################################
############				Additional Code					############
########################################################################
	
	[event]
		name=preload
		id=color_base_variation
		#wolf preset
			[set_variable]
				name=wolfrider.basecolor
				value={BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR}
			[/set_variable]
			[set_variable]
				name=wolfrider.basecolor_fur
				value={WOLF_FUR}
			[/set_variable]
			[set_variable]
				name=wolfriderpillager.basecolor_fur
				value={WOLF_PILLAGE_FUR}
			[/set_variable]
			[set_variable]
				name=greatwolfrider.basecolor_fur
				value={GREAT_WOLF_FUR}
			[/set_variable]
			[set_variable]
				name=direwolfrider.basecolor_fur
				value={DIREWOLF_FUR}
			[/set_variable]
		#merfolk preset
			[set_variable]
				name=merfolk.basecolor
				value={MERFOLK_BLUE}
			[/set_variable]
			[set_variable]
				name=merfolk.basecolor_hair
				value={MERFOLK_HAIR}
			[/set_variable]
		#wose preset
			[set_variable]
				name=wose.basecolor_bark
				value={DEFAULT_WOSE_BARK}
			[/set_variable]
			[set_variable]
				name=wose.basecolor_leaf
				value={DEFAULT_WOSE_LEAF}
			[/set_variable]
		#naga preset
			[set_variable]
				name=naga.basecolor_top
				value={DEFAULT_NAGA_TOP}
			[/set_variable]
			[set_variable]
				name=naga.basecolor_bottom
				value={DEFAULT_NAGA_BOTTOM}
			[/set_variable]
	[/event]
	

########################################################################
############				Advancements					############
########################################################################
	{ADVANCEMENTS_UCV}
########################################################################
############					End							############
########################################################################

[/modification]
