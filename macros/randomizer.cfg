[modification]
    id=modification_scale_randomizer
    name= _ "Unit Color Variation"
    type=hybrid

    description=_"Giving recurits more variation in their coloring.
	
Supported Races:
	- Saurians
	- Drakes
	- Humans
	- Trolls"
    [options]
        [checkbox]
            id=modification_scale_randomizer_no_loyal
            name=_"Exclude special units"
            description=_"Loyal units and units that can recruit don't get randomised colors."
            default=no
        [/checkbox]
        [checkbox]
            id=modification_scale_randomizer_morphing
            name=_"Allow unusual colors"
            description=_"Adds unusual colors to the randomiser: Yellow, brown and red."
            default=no
        [/checkbox]
    [/options]
	
########################################################################
############					Saurian						############
########################################################################

	### Saurian scale color randomizer
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([filter]
            {SAURIAN_RACE_LIST} #saurian pack compatibility
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/filter])
		(1..13)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_GREEN} GREEN}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_SHIFT_MOSS} MOSS}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_OLDGREEN} OLDGREEN}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_OLDGREENORACLE} OLDGREENORACLE}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_SXRPGGREEN} SXRPGGREEN}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_ELVISHFIGHTERGREEN} ELVISHFIGHTERGREEN}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_ELVISHSCOUTGREEN} ELVISHSCOUTGREEN}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_WOSEGREEN} WOSEGREEN}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_MERFOLKGREEN} MERFOLKGREEN}}
		{ELSEIF_RANDOM 10 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_DRAKEGREEN} DRAKEGREEN}}
		{ELSEIF_RANDOM 11 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_SWAMPLIZARD} SWAMPLIZARD}}
		{ELSEIF_RANDOM 12 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_WATERSERPENT} WATERSERPENT}}
		{ELSEIF_RANDOM 13 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_KALIANELF} KALIANELF}}
		)
		
		(1..14)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_GREEN} GREEN}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_SHIFT_MOSS} MOSS}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_OLDGREEN} OLDGREEN}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_OLDGREENORACLE} OLDGREENORACLE}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_SXRPGGREEN} SXRPGGREEN}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_ELVISHFIGHTERGREEN} ELVISHFIGHTERGREEN}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_ELVISHSCOUTGREEN} ELVISHSCOUTGREEN}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_WOSEGREEN} WOSEGREEN}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_MERFOLKGREEN} MERFOLKGREEN}}
		{ELSEIF_RANDOM 10 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_DRAKEGREEN} DRAKEGREEN}}
		{ELSEIF_RANDOM 11 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_SWAMPLIZARD} SWAMPLIZARD}}
		{ELSEIF_RANDOM 12 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_WATERSERPENT} WATERSERPENT}}
		{ELSEIF_RANDOM 13 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_KALIANELF} KALIANELF}}
		{ELSEIF_RANDOM 14 ({RANDOM 1..6} [if]
			{THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_SHIFT_DESERT} DESERT}}
			{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_SHIFT_RED} RED}}
			{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_SHIFT_SALAMANDER} SALAMANDER}}
			{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_SHIFT_DRAKEBURNER} DRAKEBURNER}}
			{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_SHIFT_ALBINO} ALBINO}}
			{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_SHIFT_DEEP} DEEP}}
			{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} {SCALE_SHIFT_ORCISHARMOR} ORCISH}}
			[/if])}
		)		
	}
	
########################################################################
############					Drake						############
########################################################################
	
	### Drake Glider scale color randomizer
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([filter]
            {DRAKE_GLIDER_LIST}
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/filter])
		(1..9)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_BURNER_GLIDERDRAKE} BURNER}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_GLIDER_GLIDERDRAKE} GLIDER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_FIGHTER_GLIDERDRAKE} FIGHTER}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_BROWNGREEN_GLIDERDRAKE} BROWNGREEN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_BROWN_GLIDERDRAKE} BROWN}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_SAURIAN_GLIDERDRAKE} SAURIAN}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_NAGA_GLIDERDRAKE} NAGA}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_WOSEBROWN_GLIDERDRAKE} WOSE}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_WYVERN_GLIDERDRAKE} WYVERN}}
		)
		
		(1..10)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_BURNER_GLIDERDRAKE} BURNER}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_GLIDER_GLIDERDRAKE} GLIDER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_FIGHTER_GLIDERDRAKE} FIGHTER}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_BROWNGREEN_GLIDERDRAKE} BROWNGREEN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_BROWN_GLIDERDRAKE} BROWN}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_SAURIAN_GLIDERDRAKE} SAURIAN}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_NAGA_GLIDERDRAKE} NAGA}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_WOSEBROWN_GLIDERDRAKE} WOSE}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_WYVERN_GLIDERDRAKE} WYVERN}}
		{ELSEIF_RANDOM 10 ({RANDOM 1..6} [if]
			{THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_ASHEN_GLIDERDRAKE} ASHEN}}
			{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_GSE_GLIDERDRAKE} GSE}}
			{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_FIREDRAKE_GLIDERDRAKE} FIREDRAKE}}
			{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_INFERNO_GLIDERDRAKE} INFERNO}}
			{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} {SCALE_SHIFT_ARMAGEDDON_GLIDERDRAKE} ARMAGEDDON}}
			{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE_ALB} {SCALE_SHIFT_ALBINO_GLIDERDRAKE} ALBINO}}
			[/if])}
		)
		
	}
	### Drake Fighter/Clasher scale color randomizer
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([filter]
            {DRAKE_FIGHTER_LIST}
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/filter])
		(1..9)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_BURNER_FIGHTERDRAKE} BURNER}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_GLIDER_FIGHTERDRAKE} GLIDER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_FIGHTER_FIGHTERDRAKE} FIGHTER}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_BROWNGREEN_FIGHTERDRAKE} BROWNGREEN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_BROWN_FIGHTERDRAKE} BROWN}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_SAURIAN_FIGHTERDRAKE} SAURIAN}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_NAGA_FIGHTERDRAKE} NAGA}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_WOSEBROWN_FIGHTERDRAKE} WOSE}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_WYVERN_FIGHTERDRAKE} WYVERN}}
		)
		
		(1..10)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_BURNER_FIGHTERDRAKE} BURNER}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_GLIDER_FIGHTERDRAKE} GLIDER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_FIGHTER_FIGHTERDRAKE} FIGHTER}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_BROWNGREEN_FIGHTERDRAKE} BROWNGREEN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_BROWN_FIGHTERDRAKE} BROWN}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_SAURIAN_FIGHTERDRAKE} SAURIAN}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_NAGA_FIGHTERDRAKE} NAGA}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_WOSEBROWN_FIGHTERDRAKE} WOSE}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_WYVERN_FIGHTERDRAKE} WYVERN}}
		{ELSEIF_RANDOM 10 ({RANDOM 1..6} [if]
			{THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_ASHEN_FIGHTERDRAKE} ASHEN}}
			{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_GSE_FIGHTERDRAKE} GSE}}
			{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_FIREDRAKE_FIGHTERDRAKE} FIREDRAKE}}
			{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_INFERNO_FIGHTERDRAKE} INFERNO}}
			{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_ARMAGEDDON_FIGHTERDRAKE} ARMAGEDDON}}
			{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE_ALB} {SCALE_SHIFT_ALBINO_FIGHTERDRAKE} ALBINO}}
			[/if])}
		)
		
	}
	### Drake Burner scale color randomizer
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([filter]
            {DRAKE_BURNER_LIST}
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/filter])
		(1..9)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_BURNER_BURNERDRAKE} BURNER}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_GLIDER_BURNERDRAKE} GLIDER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_FIGHTER_BURNERDRAKE} FIGHTER}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_BROWNGREEN_BURNERDRAKE} BROWNGREEN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_BROWN_BURNERDRAKE} BROWN}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_SAURIAN_BURNERDRAKE} SAURIAN}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_NAGA_BURNERDRAKE} NAGA}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_WOSEBROWN_BURNERDRAKE} WOSE}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_WYVERN_BURNERDRAKE} WYVERN}}
		)
		
		(1..10)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_BURNER_BURNERDRAKE} BURNER}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_GLIDER_BURNERDRAKE} GLIDER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_FIGHTER_BURNERDRAKE} FIGHTER}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_BROWNGREEN_BURNERDRAKE} BROWNGREEN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_BROWN_BURNERDRAKE} BROWN}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_SAURIAN_BURNERDRAKE} SAURIAN}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_NAGA_BURNERDRAKE} NAGA}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_WOSEBROWN_BURNERDRAKE} WOSE}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_WYVERN_BURNERDRAKE} WYVERN}}
		{ELSEIF_RANDOM 10 ({RANDOM 1..6} [if]
			{THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_ASHEN_BURNERDRAKE} ASHEN}}
			{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_GSE_BURNERDRAKE} GSE}}
			{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_FIREDRAKE_BURNERDRAKE} FIREDRAKE}}
			{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_INFERNO_BURNERDRAKE} INFERNO}}
			{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} {SCALE_SHIFT_ARMAGEDDON_BURNERDRAKE} ARMAGEDDON}}
			{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE_ALB} {SCALE_SHIFT_ALBINO_BURNERDRAKE} ALBINO}}
			[/if])}
		)
		
	}
	
	### Fire Burner scale color randomizer
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([filter]
            {DRAKE_FIRE_LIST}
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/filter])
		(1..9)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_BURNER_FIREDRAKE} BURNER}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_GLIDER_FIREDRAKE} GLIDER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_FIGHTER_FIREDRAKE} FIGHTER}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_BROWNGREEN_FIREDRAKE} BROWNGREEN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_BROWN_FIREDRAKE} BROWN}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_SAURIAN_FIREDRAKE} SAURIAN}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_NAGA_FIREDRAKE} NAGA}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_WOSEBROWN_FIREDRAKE} WOSE}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_WYVERN_FIREDRAKE} WYVERN}}
		)
		
		(1..10)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_BURNER_FIREDRAKE} BURNER}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_GLIDER_FIREDRAKE} GLIDER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_FIGHTER_FIREDRAKE} FIGHTER}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_BROWNGREEN_FIREDRAKE} BROWNGREEN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_BROWN_FIREDRAKE} BROWN}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_SAURIAN_FIREDRAKE} SAURIAN}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_NAGA_FIREDRAKE} NAGA}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_WOSEBROWN_FIREDRAKE} WOSE}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_WYVERN_FIREDRAKE} WYVERN}}
		{ELSEIF_RANDOM 10 ({RANDOM 1..6} [if]
			{THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_ASHEN_FIREDRAKE} ASHEN}}
			{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_GSE_FIREDRAKE} GSE}}
			{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_FIREDRAKE_FIREDRAKE} FIREDRAKE}}
			{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_INFERNO_FIREDRAKE} INFERNO}}
			{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} {SCALE_SHIFT_ARMAGEDDON_FIREDRAKE} ARMAGEDDON}}
			{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE_ALB} {SCALE_SHIFT_ALBINO_FIREDRAKE} ALBINO}}
			[/if])}
		)
	}
	
	### Inferno Burner scale color randomizer
	{MODIFICATION_COLORCHANGER_RANDOMIZER
	([filter]
            {DRAKE_INFERNO_LIST}
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/filter])
		(1..9)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_BURNER_INFERNODRAKE} BURNER}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_GLIDER_INFERNODRAKE} GLIDER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_FIGHTER_INFERNODRAKE} FIGHTER}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_BROWNGREEN_INFERNODRAKE} BROWNGREEN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_BROWN_INFERNODRAKE} BROWN}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_SAURIAN_INFERNODRAKE} SAURIAN}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_NAGA_INFERNODRAKE} NAGA}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_WOSEBROWN_INFERNODRAKE} WOSE}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_WYVERN_INFERNODRAKE} WYVERN}}
		)
		
		(1..10)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_BURNER_INFERNODRAKE} BURNER}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_GLIDER_INFERNODRAKE} GLIDER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_FIGHTER_INFERNODRAKE} FIGHTER}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_BROWNGREEN_INFERNODRAKE} BROWNGREEN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_BROWN_INFERNODRAKE} BROWN}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_SAURIAN_INFERNODRAKE} SAURIAN}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_NAGA_INFERNODRAKE} NAGA}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_WOSEBROWN_INFERNODRAKE} WOSE}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_WYVERN_INFERNODRAKE} WYVERN}}
		{ELSEIF_RANDOM 10 ({RANDOM 1..6} [if]
			{THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_ASHEN_INFERNODRAKE} ASHEN}}
			{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_GSE_INFERNODRAKE} GSE}}
			{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_FIREDRAKE_INFERNODRAKE} FIREDRAKE}}
			{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_INFERNO_INFERNODRAKE} INFERNO}}
			{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} {SCALE_SHIFT_ARMAGEDDON_INFERNODRAKE} ARMAGEDDON}}
			{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE_ALB} {SCALE_SHIFT_ALBINO_INFERNODRAKE} ALBINO}}
			[/if])}
		)
	}
	
	### Armageddon Burner scale color randomizer
	{MODIFICATION_COLORCHANGER_RANDOMIZER
	([filter]
            {DRAKE_ARMAGEDDON_LIST}
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/filter])
		(1..9)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_BURNER_ARMAGEDDONDRAKE} BURNER}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_GLIDER_ARMAGEDDONDRAKE} GLIDER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_FIGHTER_ARMAGEDDONDRAKE} FIGHTER}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_BROWNGREEN_ARMAGEDDONDRAKE} BROWNGREEN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_BROWN_ARMAGEDDONDRAKE} BROWN}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_SAURIAN_ARMAGEDDONDRAKE} SAURIAN}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_NAGA_ARMAGEDDONDRAKE} NAGA}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_WOSEBROWN_ARMAGEDDONDRAKE} WOSE}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_WYVERN_ARMAGEDDONDRAKE} WYVERN}}
		)
		
		(1..10)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_BURNER_ARMAGEDDONDRAKE} BURNER}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_GLIDER_ARMAGEDDONDRAKE} GLIDER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_FIGHTER_ARMAGEDDONDRAKE} FIGHTER}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_BROWNGREEN_ARMAGEDDONDRAKE} BROWNGREEN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_BROWN_ARMAGEDDONDRAKE} BROWN}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_SAURIAN_ARMAGEDDONDRAKE} SAURIAN}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_NAGA_ARMAGEDDONDRAKE} NAGA}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_WOSEBROWN_ARMAGEDDONDRAKE} WOSE}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_WYVERN_ARMAGEDDONDRAKE} WYVERN}}
		{ELSEIF_RANDOM 10 ({RANDOM 1..6} [if]
			{THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_ASHEN_ARMAGEDDONDRAKE} ASHEN}}
			{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_GSE_ARMAGEDDONDRAKE} GSE}}
			{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_FIREDRAKE_ARMAGEDDONDRAKE} FIREDRAKE}}
			{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_INFERNO_ARMAGEDDONDRAKE} INFERNO}}
			{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} {SCALE_SHIFT_ARMAGEDDON_ARMAGEDDONDRAKE} ARMAGEDDON}}
			{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE_ALB} {SCALE_SHIFT_ALBINO_ARMAGEDDONDRAKE} ALBINO}}
			[/if])}
		)
	}	
	
	### Drake UMC (?) scale color randomizer
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([filter]
			{DRAKE_UMC_LIST}
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/filter])
		(1..9)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_BURNER_FIGHTERDRAKE} BURNER}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_GLIDER_FIGHTERDRAKE} GLIDER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_FIGHTER_FIGHTERDRAKE} FIGHTER}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_BROWNGREEN_FIGHTERDRAKE} BROWNGREEN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_BROWN_FIGHTERDRAKE} BROWN}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_SAURIAN_FIGHTERDRAKE} SAURIAN}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_NAGA_FIGHTERDRAKE} NAGA}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_WOSEBROWN_FIGHTERDRAKE} WOSE}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_WYVERN_FIGHTERDRAKE} WYVERN}}
		)
		
		(1..10)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_BURNER_FIGHTERDRAKE} BURNER}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_GLIDER_FIGHTERDRAKE} GLIDER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_FIGHTER_FIGHTERDRAKE} FIGHTER}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_BROWNGREEN_FIGHTERDRAKE} BROWNGREEN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_BROWN_FIGHTERDRAKE} BROWN}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_SAURIAN_FIGHTERDRAKE} SAURIAN}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_NAGA_FIGHTERDRAKE} NAGA}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_WOSEBROWN_FIGHTERDRAKE} WOSE}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_WYVERN_FIGHTERDRAKE} WYVERN}}
		{ELSEIF_RANDOM 10 ({RANDOM 1..6} [if]
			{THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_ASHEN_FIGHTERDRAKE} ASHEN}}
			{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_GSE_FIGHTERDRAKE} GSE}}
			{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_FIREDRAKE_FIGHTERDRAKE} FIREDRAKE}}
			{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_INFERNO_FIGHTERDRAKE} INFERNO}}
			{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} {SCALE_SHIFT_ARMAGEDDON_FIGHTERDRAKE} ARMAGEDDON}}
			{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE_ALB} {SCALE_SHIFT_ALBINO_FIGHTERDRAKE} ALBINO}}
			[/if])}
		)
		
	}
	
	{DRAKE_ADVANCEMENTS}
	
########################################################################
############					Loyalist					############
########################################################################

	### Base Loyalist Units
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([filter]
			{LOYALIST_BASE_LIST}
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/filter])
		
		(1..8)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_LOYALIST_BLUE_INFANTRY_ARMOUR_COLOR} LOYALIST_BLUE}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_LOYALIST_CAVALIER_INFANTRY_ARMOUR_COLOR} CAVALIER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_LOYALIST_GRAND_KNIGHT_INFANTRY_ARMOUR_COLOR} GRAND_KNIGHT}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_LOYALIST_PALADIN_INFANTRY_ARMOUR_COLOR} PALADIN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_KARRAG_INFANTRY_ARMOUR_COLOR} KARRAG}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_WITNESS_INFANTRY_ARMOUR_COLOR} WITNESS}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_SEACAPTAIN_STEEL_INFANTRY_ARMOUR_COLOR} SEACAPTAIN_STEEL}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_SIR_GERRIK_INFANTRY_ARMOUR_COLOR} GERRIK}}
		)
		
		(1..9)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_LOYALIST_BLUE_INFANTRY_ARMOUR_COLOR} LOYALIST_BLUE}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_LOYALIST_CAVALIER_INFANTRY_ARMOUR_COLOR} CAVALIER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_LOYALIST_GRAND_KNIGHT_INFANTRY_ARMOUR_COLOR} GRAND_KNIGHT}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_LOYALIST_PALADIN_INFANTRY_ARMOUR_COLOR} PALADIN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_KARRAG_INFANTRY_ARMOUR_COLOR} KARRAG}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_WITNESS_INFANTRY_ARMOUR_COLOR} WITNESS}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_SEACAPTAIN_STEEL_INFANTRY_ARMOUR_COLOR} SEACAPTAIN_STEEL}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_SIR_GERRIK_INFANTRY_ARMOUR_COLOR} GERRIK}}
		{ELSEIF_RANDOM 9 ({RANDOM 1..6} [if]
			{THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_ORC_INFANTERY_ARMOUR_COLOR} ORC}}
			{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_HEAVY_INFANTERY_INFANTRY_ARMOUR_COLOR} HI}}
			{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_UTBS_HUMAN_INFANTERY_ARMOUR_COLOR} UTBS_HUMAN}}
			{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_GOLD_NEW_INFANTRY_ARMOUR_COLOR} GOLD_NEW}}
			{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_DEATHKNIGHT_INFANTRY_ARMOUR_COLOR} DEATHKNIGHT}}
			{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} {BASE_MERFOLK_HOPLITE_INFANTRY_ARMOUR_COLOR} MERFOLK_HOPLITE}}
			[/if])}
		)
		
	}
	
	### HI Units
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([filter]
			{LOYALIST_HI_LIST}
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/filter])
		(1..8)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_LOYALIST_BLUE_HI_ARMOUR_COLOR} LOYALIST_BLUE}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_LOYALIST_CAVALIER_HI_ARMOUR_COLOR} CAVALIER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_LOYALIST_GRAND_KNIGHT_HI_ARMOUR_COLOR} GRAND_KNIGHT}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_LOYALIST_PALADIN_HI_ARMOUR_COLOR} PALADIN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_KARRAG_HI_ARMOUR_COLOR} KARRAG}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_WITNESS_HI_ARMOUR_COLOR} WITNESS}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_SEACAPTAIN_STEEL_HI_ARMOUR_COLOR} SEACAPTAIN_STEEL}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_SIR_GERRIK_HI_ARMOUR_COLOR} GERRIK}}
		)
		
		(1..9)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_LOYALIST_BLUE_HI_ARMOUR_COLOR} LOYALIST_BLUE}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_LOYALIST_CAVALIER_HI_ARMOUR_COLOR} CAVALIER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_LOYALIST_GRAND_KNIGHT_HI_ARMOUR_COLOR} GRAND_KNIGHT}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_LOYALIST_PALADIN_HI_ARMOUR_COLOR} PALADIN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_KARRAG_HI_ARMOUR_COLOR} KARRAG}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_WITNESS_HI_ARMOUR_COLOR} WITNESS}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_SEACAPTAIN_STEEL_HI_ARMOUR_COLOR} SEACAPTAIN_STEEL}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_SIR_GERRIK_HI_ARMOUR_COLOR} GERRIK}}
		{ELSEIF_RANDOM 9 ({RANDOM 1..6} [if]
			{THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_ORC_HI_ARMOUR_COLOR} ORC}}
			{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_LOYALIST_HI_ARMOUR_COLOR} HI}}
			{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_UTBS_HUMAN_HI_ARMOUR_COLOR} UTBS_HUMAN}}
			{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_GOLD_NEW_HI_ARMOUR_COLOR} GOLD_NEW}}
			{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_DEATHKNIGHT_HI_ARMOUR_COLOR} DEATHKNIGHT}}
			{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} {BASE_MERFOLK_HOPLITE_HI_ARMOUR_COLOR} MERFOLK_HOPLITE}}
			[/if])}
		)
		
	}
	
	### Grand Knight Units
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([filter]
			{LOYALIST_GRAND_KNIGHT_LIST}
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/filter])
		(1..8)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_LOYALIST_BLUE_HI_ARMOUR_COLOR} LOYALIST_BLUE}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_LOYALIST_CAVALIER_HI_ARMOUR_COLOR} CAVALIER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_LOYALIST_GRAND_KNIGHT_HI_ARMOUR_COLOR} GRAND_KNIGHT}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_LOYALIST_PALADIN_HI_ARMOUR_COLOR} PALADIN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_KARRAG_HI_ARMOUR_COLOR} KARRAG}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_WITNESS_HI_ARMOUR_COLOR} WITNESS}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_SEACAPTAIN_STEEL_HI_ARMOUR_COLOR} SEACAPTAIN_STEEL}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_SIR_GERRIK_HI_ARMOUR_COLOR} GERRIK}}
		)
		
		(1..9)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_LOYALIST_BLUE_HI_ARMOUR_COLOR} LOYALIST_BLUE}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_LOYALIST_CAVALIER_HI_ARMOUR_COLOR} CAVALIER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_LOYALIST_GRAND_KNIGHT_HI_ARMOUR_COLOR} GRAND_KNIGHT}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_LOYALIST_PALADIN_HI_ARMOUR_COLOR} PALADIN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_KARRAG_HI_ARMOUR_COLOR} KARRAG}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_WITNESS_HI_ARMOUR_COLOR} WITNESS}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_SEACAPTAIN_STEEL_HI_ARMOUR_COLOR} SEACAPTAIN_STEEL}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_SIR_GERRIK_HI_ARMOUR_COLOR} GERRIK}}
		{ELSEIF_RANDOM 9 ({RANDOM 1..6} [if]
			{THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_ORC_HI_ARMOUR_COLOR} ORC}}
			{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_HEAVY_INFANTERY_HI_ARMOUR_COLOR} HI}}
			{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_UTBS_HUMAN_HI_ARMOUR_COLOR} UTBS_HUMAN}}
			{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_GOLD_NEW_HI_ARMOUR_COLOR} GOLD_NEW}}
			{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_DEATHKNIGHT_HI_ARMOUR_COLOR} DEATHKNIGHT}}
			{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} {BASE_MERFOLK_HOPLITE_HI_ARMOUR_COLOR} MERFOLK_HOPLITE}}
			[/if])}
		)
		
	}
	
	### Cavalier Units
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([filter]
			{LOYALIST_CAVALIER_LIST}
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/filter])
		(1..8)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_LOYALIST_BLUE_CAVALIER_ARMOUR_COLOR} LOYALIST_BLUE}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_LOYALIST_CAVALIER_CAVALIER_ARMOUR_COLOR} CAVALIER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_LOYALIST_GRAND_KNIGHT_CAVALIER_ARMOUR_COLOR} GRAND_KNIGHT}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_LOYALIST_PALADIN_CAVALIER_ARMOUR_COLOR} PALADIN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_KARRAG_CAVALIER_ARMOUR_COLOR} KARRAG}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_WITNESS_CAVALIER_ARMOUR_COLOR} WITNESS}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_SEACAPTAIN_STEEL_CAVALIER_ARMOUR_COLOR} SEACAPTAIN_STEEL}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_SIR_GERRIK_CAVALIER_ARMOUR_COLOR} GERRIK}}
		)
		
		(1..9)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_LOYALIST_BLUE_CAVALIER_ARMOUR_COLOR} LOYALIST_BLUE}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_LOYALIST_CAVALIER_CAVALIER_ARMOUR_COLOR} CAVALIER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_LOYALIST_GRAND_KNIGHT_CAVALIER_ARMOUR_COLOR} GRAND_KNIGHT}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_LOYALIST_PALADIN_CAVALIER_ARMOUR_COLOR} PALADIN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_KARRAG_CAVALIER_ARMOUR_COLOR} KARRAG}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_WITNESS_CAVALIER_ARMOUR_COLOR} WITNESS}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_SEACAPTAIN_STEEL_CAVALIER_ARMOUR_COLOR} SEACAPTAIN_STEEL}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_SIR_GERRIK_CAVALIER_ARMOUR_COLOR} GERRIK}}
		{ELSEIF_RANDOM 9 ({RANDOM 1..6} [if]
			{THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_ORC_CAVALIER_ARMOUR_COLOR} ORC}}
			{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_HEAVY_INFANTERY_CAVALIER_ARMOUR_COLOR} HI}}
			{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_UTBS_HUMAN_CAVALIER_ARMOUR_COLOR} UTBS_HUMAN}}
			{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_GOLD_NEW_CAVALIER_ARMOUR_COLOR} GOLD_NEW}}
			{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_DEATHKNIGHT_CAVALIER_ARMOUR_COLOR} DEATHKNIGHT}}
			{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} {BASE_MERFOLK_HOPLITE_CAVALIER_ARMOUR_COLOR} MERFOLK_HOPLITE}}
			[/if])}
		)
		
	}
	
	### Paladin Units
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([filter]
			{LOYALIST_PALADIN_LIST}
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/filter])
		(1..8)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_LOYALIST_BLUE_HI_ARMOUR_COLOR} LOYALIST_BLUE}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_LOYALIST_CAVALIER_HI_ARMOUR_COLOR} CAVALIER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_LOYALIST_GRAND_KNIGHT_HI_ARMOUR_COLOR} GRAND_KNIGHT}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_LOYALIST_PALADIN_HI_ARMOUR_COLOR} PALADIN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_KARRAG_HI_ARMOUR_COLOR} KARRAG}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_WITNESS_HI_ARMOUR_COLOR} WITNESS}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_SEACAPTAIN_STEEL_HI_ARMOUR_COLOR} SEACAPTAIN_STEEL}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_SIR_GERRIK_HI_ARMOUR_COLOR} GERRIK}}
		)
		
		(1..7)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_LOYALIST_BLUE_HI_ARMOUR_COLOR} LOYALIST_BLUE}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_LOYALIST_CAVALIER_HI_ARMOUR_COLOR} CAVALIER}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_LOYALIST_GRAND_KNIGHT_HI_ARMOUR_COLOR} GRAND_KNIGHT}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_LOYALIST_PALADIN_HI_ARMOUR_COLOR} PALADIN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_KARRAG_HI_ARMOUR_COLOR} KARRAG}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_WITNESS_HI_ARMOUR_COLOR} WITNESS}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_SEACAPTAIN_STEEL_HI_ARMOUR_COLOR} SEACAPTAIN_STEEL}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_SIR_GERRIK_HI_ARMOUR_COLOR} GERRIK}}
		{ELSEIF_RANDOM 9 ({RANDOM 1..6} [if]
			{THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_SIR_GERRIK_HI_ARMOUR_COLOR} GERRIK}}
			{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_HEAVY_INFANTERY_HI_ARMOUR_COLOR} HI}}
			{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_UTBS_HUMAN_HI_ARMOUR_COLOR} UTBS_HUMAN}}
			{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_GOLD_NEW_HI_ARMOUR_COLOR} GOLD_NEW}}
			{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_DEATHKNIGHT_HI_ARMOUR_COLOR} DEATHKNIGHT}}
			{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} {BASE_MERFOLK_HOPLITE_HI_ARMOUR_COLOR} MERFOLK_HOPLITE}}
			[/if])}
		)
		
	}
	
	{LOYALIST_ADVANCEMENTS}
########################################################################
############					Troll						############
########################################################################

	### Troll color randomizer
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([filter]
            {TROLL_RACE_LIST}
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/filter])
		(1..14)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {TROLL_GREY} GREY}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {TROLL_WOODENEARTH} WOODENEARTH}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {TROLL_EARTHEN} EARTHEN}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {TROLL_DARKERMUD} DARKERMUD}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {TROLL_DARKMUD} DARKMUD}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {TROLL_DARKGREEN} DARKGREEN}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {TROLL_DARKBRIGHTSTONE} DARKBRIGHTSTONE}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {BASE_HEAVY_INFANTERY_HI_ARMOUR_COLOR} HEAVY_INFANTERY}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {BASE_ROYAL_WARRIOR_HI_ARMOUR_COLOR} ROYAL_WARRIOR}}
		{ELSEIF_RANDOM 10 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {BASE_CHEVALIER_HI_ARMOUR_COLOR} CHEVALIER}}
		{ELSEIF_RANDOM 11 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {BASE_ELF_DARKER_HI_ARMOUR_COLOR} ELF_DARKER}}
		{ELSEIF_RANDOM 12 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {BASE_ELF_LIGHTER_HI_ARMOUR_COLOR} ELF_LIGHTER}}
		{ELSEIF_RANDOM 13 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {BASE_DARK_ASSASSIN_CLOAK_HI_ARMOUR_COLOR} DARK_ASSASSIN}}
		{ELSEIF_RANDOM 14 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {BASE_DREADBAT_METAL_HI_ARMOUR_COLOR} DREADBAT_METAL}}
		)
		
		(1..14)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {TROLL_GREY} GREY}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {TROLL_WOODENEARTH} WOODENEARTH}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {TROLL_EARTHEN} EARTHEN}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {TROLL_DARKERMUD} DARKERMUD}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {TROLL_DARKMUD} DARKMUD}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {TROLL_DARKGREEN} DARKGREEN}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {TROLL_DARKBRIGHTSTONE} DARKBRIGHTSTONE}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {BASE_HEAVY_INFANTERY_HI_ARMOUR_COLOR} HEAVY_INFANTERY}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {BASE_ROYAL_WARRIOR_HI_ARMOUR_COLOR} ROYAL_WARRIOR}}
		{ELSEIF_RANDOM 10 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {BASE_CHEVALIER_HI_ARMOUR_COLOR} CHEVALIER}}
		{ELSEIF_RANDOM 11 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {BASE_ELF_DARKER_HI_ARMOUR_COLOR} ELF_DARKER}}
		{ELSEIF_RANDOM 12 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {BASE_ELF_LIGHTER_HI_ARMOUR_COLOR} ELF_LIGHTER}}
		{ELSEIF_RANDOM 13 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {BASE_DARK_ASSASSIN_CLOAK_HI_ARMOUR_COLOR} DARK_ASSASSIN}}
		{ELSEIF_RANDOM 14 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {BASE_DREADBAT_METAL_HI_ARMOUR_COLOR} DREADBAT_METAL}}
		{ELSEIF_RANDOM 15 ({RANDOM 1..5} [if]
			{THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {TROLL_SANDSTONE} SANDSTONE}}
			{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {TROLL_MOLTEN} MOLTEN}}
			{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {BASE_GOLD_NEW_HI_ARMOUR_COLOR} GOLD_NEW}}
			{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {BASE_SIR_GERRIK_HI_ARMOUR_COLOR} SIR_GERRIK}}
			{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} {BASE_SKELETON_RIDER_HI_ARMOUR_COLOR} SKELETON_RIDER}}
			[/if])}
		)	
	}
	
########################################################################
############					Merfolk						############
########################################################################
	{MODIFICATION_UNIT_IMAGE_MERMAN_CITIZEN}
	{MODIFICATION_UNIT_IMAGE_MERMAN_BRAWLER}
	{MODIFICATION_UNIT_IMAGE_MERMAN_HOPLITE}
	{MODIFICATION_UNIT_IMAGE_CHILD_KING}
	{MODIFICATION_UNIT_IMAGE_YOUNG_KING}
	{MODIFICATION_UNIT_IMAGE_SOLDIER_KING}
	{MODIFICATION_UNIT_IMAGE_WARRIOR_KING}

	### Merfolk color randomizer
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([filter]
            {MERFOLK_RACE_LIST}
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/filter])
		(1..5)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {MERFOLK_BLUE} {MERFOLK_BLUE} MERFOLK_BLUE}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {MERFOLK_BLUE} {GREY_BLUE_GREEN} GREY_BLUE_GREEN}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {MERFOLK_BLUE} {YELLOW_GREEN} YELLOW_GREEN}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {MERFOLK_BLUE} {YELLOW_BROWN} YELLOW_BROWN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {MERFOLK_BLUE} {GREY} GREY}}
		)
		
		(1..5)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {MERFOLK_BLUE} {MERFOLK_BLUE} MERFOLK_BLUE}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {MERFOLK_BLUE} {GREY_BLUE_GREEN} GREY_BLUE_GREEN}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {MERFOLK_BLUE} {YELLOW_GREEN} YELLOW_GREEN}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {MERFOLK_BLUE} {YELLOW_BROWN} YELLOW_BROWN}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {MERFOLK_BLUE} {GREY} GREY}}
		)	
	}
	
########################################################################
############				General Code					############
########################################################################

	{MODIFICATION_UNIT_IMAGE_PRE_ADVANCEMENT} #removing animations from units before they advance
	
	
########################################################################
############					End							############
########################################################################

[/modification]
