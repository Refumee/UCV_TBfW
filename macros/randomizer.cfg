[modification]
    id=modification_scale_randomizer
    name= _ "Unit Color Variation"
    type=hybrid

    description=_"Giving recruits more variation in their coloring.
	
Supported Races:
	- Saurians
	- Drakes
	- Humans
	- Trolls
	- Merfolk
	- Orcs
	- Goblins
	- Wolves
	- Wose
	- Naga"
    [options]
        [checkbox]
            id=modification_scale_randomizer_no_loyal
            name=_"Exclude special units"
            description=_"Loyal units and units that can recruit don't get randomised colors."
            default=no
        [/checkbox]
        [checkbox]
            id=modification_scale_randomizer_morphing
            name=_"Allow unusual colors"
            description=_"Adds unusual colors to the randomiser: Yellow, brown and red."
            default=no
        [/checkbox]
    [/options]
	
########################################################################
############					Saurian						############
########################################################################

    [event]
        name=unit placed
        first_time_only=no
		
		[if]
			[false][/false]
			[then]
			[/then]
			
	### Saurian scale color randomizer
	{MODIFICATION_COLORCHANGER_RANDOMIZER2
	([have_unit]
            {SAURIAN_RACE_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		
		({DEFAULT_SAURIAN_COLOR_ID})
		
		({DEFAULT_SAURIAN_COLOR_ID},UNUSUAL)
		
		({ELSEIF_RANDOM_VARIABLE GREEN {SCALE_GREEN}}
		{ELSEIF_RANDOM_VARIABLE MOSS {SCALE_SHIFT_MOSS}}
		{ELSEIF_RANDOM_VARIABLE OLDGREEN {SCALE_OLDGREEN}}
		{ELSEIF_RANDOM_VARIABLE OLDGREENORACLE {SCALE_OLDGREENORACLE}}
		{ELSEIF_RANDOM_VARIABLE SXRPGGREEN {SCALE_SXRPGGREEN}}
		{ELSEIF_RANDOM_VARIABLE ELVISHFIGHTERGREEN {SCALE_ELVISHFIGHTERGREEN}}
		{ELSEIF_RANDOM_VARIABLE ELVISHSCOUTGREEN {SCALE_ELVISHSCOUTGREEN}}
		{ELSEIF_RANDOM_VARIABLE WOSEGREEN {SCALE_WOSEGREEN}}
		{ELSEIF_RANDOM_VARIABLE MERFOLKGREEN {SCALE_MERFOLKGREEN}}
		{ELSEIF_RANDOM_VARIABLE DRAKEGREEN {SCALE_DRAKEGREEN}}
		{ELSEIF_RANDOM_VARIABLE SWAMPLIZARD {SCALE_SWAMPLIZARD}}
		{ELSEIF_RANDOM_VARIABLE WATERSERPENT {SCALE_WATERSERPENT}}
		{ELSEIF_RANDOM_VARIABLE KALIANELF {SCALE_KALIANELF}}
		{ELSEIF_RANDOM_VARIABLE_UNUSUAL UNUSUAL ({RANDOM {UNUSUAL_SAURIAN_COLOR_ID}} [switch] variable=random
			{ELSEIF_RANDOM_VARIABLE DESERT {SCALE_SHIFT_DESERT}}
			{ELSEIF_RANDOM_VARIABLE RED {SCALE_SHIFT_RED}}
			{ELSEIF_RANDOM_VARIABLE SALAMANDER {SCALE_SHIFT_SALAMANDER}}
			{ELSEIF_RANDOM_VARIABLE DRAKEBURNER {SCALE_SHIFT_DRAKEBURNER}}
			{ELSEIF_RANDOM_VARIABLE ALBINO {SCALE_SHIFT_ALBINO}}
			{ELSEIF_RANDOM_VARIABLE DEEP {SCALE_SHIFT_DEEP}}
			{ELSEIF_RANDOM_VARIABLE ORCISH {SCALE_SHIFT_ORCISHARMOR}}
			[/switch])}
		)
		
		({MODIFICATION_COLORCHANGER_CODE {SCALE_GREEN} $ucv_color $random})
	}

########################################################################
############					Drake						############
########################################################################
	
	### Drake Glider scale color randomizer
	{MODIFICATION_COLORCHANGER_RANDOMIZER2
	([have_unit]
            {DRAKE_GLIDER_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		
		({DEFAULT_DRAKE_COLOR_ID})
		
		({DEFAULT_DRAKE_COLOR_ID},UNUSUAL)
		
		({ELSEIF_RANDOM_VARIABLE BURNER {SCALE_SHIFT_BURNER_GLIDERDRAKE}}
		{ELSEIF_RANDOM_VARIABLE GLIDER {SCALE_SHIFT_GLIDER_GLIDERDRAKE}}
		{ELSEIF_RANDOM_VARIABLE FIGHTER {SCALE_SHIFT_FIGHTER_GLIDERDRAKE}}
		{ELSEIF_RANDOM_VARIABLE BROWNGREEN {SCALE_SHIFT_BROWNGREEN_GLIDERDRAKE}}
		{ELSEIF_RANDOM_VARIABLE BROWN {SCALE_SHIFT_BROWN_GLIDERDRAKE}}
		{ELSEIF_RANDOM_VARIABLE SAURIAN {SCALE_SHIFT_SAURIAN_GLIDERDRAKE}}
		{ELSEIF_RANDOM_VARIABLE NAGA {SCALE_SHIFT_NAGA_GLIDERDRAKE}}
		{ELSEIF_RANDOM_VARIABLE WOSE {SCALE_SHIFT_WOSEBROWN_GLIDERDRAKE}}
		{ELSEIF_RANDOM_VARIABLE WYVERN {SCALE_SHIFT_WYVERN_GLIDERDRAKE}}
		{ELSEIF_RANDOM_VARIABLE_UNUSUAL UNUSUAL ({RANDOM {UNUSUAL_DRAKE_COLOR_ID}} [switch] variable=random
			{ELSEIF_RANDOM_VARIABLE ASHEN {SCALE_SHIFT_ASHEN_GLIDERDRAKE}}
			{ELSEIF_RANDOM_VARIABLE GSE {SCALE_SHIFT_GSE_GLIDERDRAKE}}
			{ELSEIF_RANDOM_VARIABLE FIREDRAKE {SCALE_SHIFT_FIREDRAKE_GLIDERDRAKE}}
			{ELSEIF_RANDOM_VARIABLE INFERNO {SCALE_SHIFT_INFERNO_GLIDERDRAKE}}
			{ELSEIF_RANDOM_VARIABLE ARMAGEDDON {SCALE_SHIFT_ARMAGEDDON_GLIDERDRAKE}}
			{ELSEIF_RANDOM_VARIABLE ALBINO {SCALE_SHIFT_ALBINO_GLIDERDRAKE}}
			[/switch])}
		)
		
		([if]
			[variable]
				name=random
				equals=ALBINO
			[/variable]
			[then]
				{MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE_ALB} $ucv_color $random}
			[/then]
			[else]
				{MODIFICATION_COLORCHANGER_CODE {SCALE_GLIDER_DRAKE} $ucv_color $random}
			[/else]
		[/if])
	}
	### Drake Fighter/Clasher scale color randomizer
	{MODIFICATION_COLORCHANGER_RANDOMIZER2
	([have_unit]
            {DRAKE_FIGHTER_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		
		({DEFAULT_DRAKE_COLOR_ID})
		
		({DEFAULT_DRAKE_COLOR_ID},UNUSUAL)
		
		({ELSEIF_RANDOM_VARIABLE BURNER {SCALE_SHIFT_BURNER_FIGHTERDRAKE}}
		{ELSEIF_RANDOM_VARIABLE GLIDER {SCALE_SHIFT_GLIDER_FIGHTERDRAKE}}
		{ELSEIF_RANDOM_VARIABLE FIGHTER {SCALE_SHIFT_FIGHTER_FIGHTERDRAKE}}
		{ELSEIF_RANDOM_VARIABLE BROWNGREEN {SCALE_SHIFT_BROWNGREEN_FIGHTERDRAKE}}
		{ELSEIF_RANDOM_VARIABLE BROWN {SCALE_SHIFT_BROWN_FIGHTERDRAKE}}
		{ELSEIF_RANDOM_VARIABLE SAURIAN {SCALE_SHIFT_SAURIAN_FIGHTERDRAKE}}
		{ELSEIF_RANDOM_VARIABLE NAGA {SCALE_SHIFT_NAGA_FIGHTERDRAKE}}
		{ELSEIF_RANDOM_VARIABLE WOSE {SCALE_SHIFT_WOSEBROWN_FIGHTERDRAKE}}
		{ELSEIF_RANDOM_VARIABLE WYVERN {SCALE_SHIFT_WYVERN_FIGHTERDRAKE}}
		{ELSEIF_RANDOM_VARIABLE_UNUSUAL UNUSUAL ({RANDOM {UNUSUAL_DRAKE_COLOR_ID}} [switch] variable=random
			{ELSEIF_RANDOM_VARIABLE ASHEN {SCALE_SHIFT_ASHEN_FIGHTERDRAKE}}
			{ELSEIF_RANDOM_VARIABLE GSE {SCALE_SHIFT_GSE_FIGHTERDRAKE}}
			{ELSEIF_RANDOM_VARIABLE FIREDRAKE {SCALE_SHIFT_FIREDRAKE_FIGHTERDRAKE}}
			{ELSEIF_RANDOM_VARIABLE INFERNO {SCALE_SHIFT_INFERNO_FIGHTERDRAKE}}
			{ELSEIF_RANDOM_VARIABLE ARMAGEDDON {SCALE_SHIFT_ARMAGEDDON_FIGHTERDRAKE}}
			{ELSEIF_RANDOM_VARIABLE ALBINO {SCALE_SHIFT_ALBINO_FIGHTERDRAKE}}
			[/switch])}
		)
		
		([if]
			[variable]
				name=random
				equals=ALBINO
			[/variable]
			[then]
				{MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE_ALB} $ucv_color $random}
			[/then]
			[else]
				{MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} $ucv_color $random}
			[/else]
		[/if])
	}
	### Drake Burner scale color randomizer
	{MODIFICATION_COLORCHANGER_RANDOMIZER2
	([have_unit]
            {DRAKE_BURNER_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		
		({DEFAULT_DRAKE_COLOR_ID})
		
		({DEFAULT_DRAKE_COLOR_ID},UNUSUAL)
		
		({ELSEIF_RANDOM_VARIABLE BURNER {SCALE_SHIFT_BURNER_BURNERDRAKE}}
		{ELSEIF_RANDOM_VARIABLE GLIDER {SCALE_SHIFT_GLIDER_BURNERDRAKE}}
		{ELSEIF_RANDOM_VARIABLE FIGHTER {SCALE_SHIFT_FIGHTER_BURNERDRAKE}}
		{ELSEIF_RANDOM_VARIABLE BROWNGREEN {SCALE_SHIFT_BROWNGREEN_BURNERDRAKE}}
		{ELSEIF_RANDOM_VARIABLE BROWN {SCALE_SHIFT_BROWN_BURNERDRAKE}}
		{ELSEIF_RANDOM_VARIABLE SAURIAN {SCALE_SHIFT_SAURIAN_BURNERDRAKE}}
		{ELSEIF_RANDOM_VARIABLE NAGA {SCALE_SHIFT_NAGA_BURNERDRAKE}}
		{ELSEIF_RANDOM_VARIABLE WOSE {SCALE_SHIFT_WOSEBROWN_BURNERDRAKE}}
		{ELSEIF_RANDOM_VARIABLE WYVERN {SCALE_SHIFT_WYVERN_BURNERDRAKE}}
		{ELSEIF_RANDOM_VARIABLE_UNUSUAL UNUSUAL ({RANDOM {UNUSUAL_DRAKE_COLOR_ID}} [switch] variable=random
			{ELSEIF_RANDOM_VARIABLE ASHEN {SCALE_SHIFT_ASHEN_BURNERDRAKE}}
			{ELSEIF_RANDOM_VARIABLE GSE {SCALE_SHIFT_GSE_BURNERDRAKE}}
			{ELSEIF_RANDOM_VARIABLE FIREDRAKE {SCALE_SHIFT_FIREDRAKE_BURNERDRAKE}}
			{ELSEIF_RANDOM_VARIABLE INFERNO {SCALE_SHIFT_INFERNO_BURNERDRAKE}}
			{ELSEIF_RANDOM_VARIABLE ARMAGEDDON {SCALE_SHIFT_ARMAGEDDON_BURNERDRAKE}}
			{ELSEIF_RANDOM_VARIABLE ALBINO {SCALE_SHIFT_ALBINO_BURNERDRAKE}}
			[/switch])}
		)
		
		([if]
			[variable]
				name=random
				equals=ALBINO
			[/variable]
			[then]
				{MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE_ALB} $ucv_color $random}
			[/then]
			[else]
				{MODIFICATION_COLORCHANGER_CODE {SCALE_BURNER_DRAKE} $ucv_color $random}
			[/else]
		[/if])
	}
	### Fire Burner scale color randomizer
	{MODIFICATION_COLORCHANGER_RANDOMIZER2
	([have_unit]
            {DRAKE_FIRE_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		
		({DEFAULT_DRAKE_COLOR_ID})
		
		({DEFAULT_DRAKE_COLOR_ID},UNUSUAL)
		
		({ELSEIF_RANDOM_VARIABLE BURNER {SCALE_SHIFT_BURNER_FIREDRAKE}}
		{ELSEIF_RANDOM_VARIABLE GLIDER {SCALE_SHIFT_GLIDER_FIREDRAKE}}
		{ELSEIF_RANDOM_VARIABLE FIGHTER {SCALE_SHIFT_FIGHTER_FIREDRAKE}}
		{ELSEIF_RANDOM_VARIABLE BROWNGREEN {SCALE_SHIFT_BROWNGREEN_FIREDRAKE}}
		{ELSEIF_RANDOM_VARIABLE BROWN {SCALE_SHIFT_BROWN_FIREDRAKE}}
		{ELSEIF_RANDOM_VARIABLE SAURIAN {SCALE_SHIFT_SAURIAN_FIREDRAKE}}
		{ELSEIF_RANDOM_VARIABLE NAGA {SCALE_SHIFT_NAGA_FIREDRAKE}}
		{ELSEIF_RANDOM_VARIABLE WOSE {SCALE_SHIFT_WOSEBROWN_FIREDRAKE}}
		{ELSEIF_RANDOM_VARIABLE WYVERN {SCALE_SHIFT_WYVERN_FIREDRAKE}}
		{ELSEIF_RANDOM_VARIABLE_UNUSUAL UNUSUAL ({RANDOM {UNUSUAL_DRAKE_COLOR_ID}} [switch] variable=random
			{ELSEIF_RANDOM_VARIABLE ASHEN {SCALE_SHIFT_ASHEN_FIREDRAKE}}
			{ELSEIF_RANDOM_VARIABLE GSE {SCALE_SHIFT_GSE_FIREDRAKE}}
			{ELSEIF_RANDOM_VARIABLE FIREDRAKE {SCALE_SHIFT_FIREDRAKE_FIREDRAKE}}
			{ELSEIF_RANDOM_VARIABLE INFERNO {SCALE_SHIFT_INFERNO_FIREDRAKE}}
			{ELSEIF_RANDOM_VARIABLE ARMAGEDDON {SCALE_SHIFT_ARMAGEDDON_FIREDRAKE}}
			{ELSEIF_RANDOM_VARIABLE ALBINO {SCALE_SHIFT_ALBINO_FIREDRAKE}}
			[/switch])}
		)
		
		([if]
			[variable]
				name=random
				equals=ALBINO
			[/variable]
			[then]
				{MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE_ALB} $ucv_color $random}
			[/then]
			[else]
				{MODIFICATION_COLORCHANGER_CODE {SCALE_FIRE_DRAKE} $ucv_color $random}
			[/else]
		[/if])
	}
	### Inferno Burner scale color randomizer
	{MODIFICATION_COLORCHANGER_RANDOMIZER2
	([have_unit]
            {DRAKE_INFERNO_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		
		({DEFAULT_DRAKE_COLOR_ID})
		
		({DEFAULT_DRAKE_COLOR_ID},UNUSUAL)
		
		({ELSEIF_RANDOM_VARIABLE BURNER {SCALE_SHIFT_BURNER_INFERNODRAKE}}
		{ELSEIF_RANDOM_VARIABLE GLIDER {SCALE_SHIFT_GLIDER_INFERNODRAKE}}
		{ELSEIF_RANDOM_VARIABLE FIGHTER {SCALE_SHIFT_FIGHTER_INFERNODRAKE}}
		{ELSEIF_RANDOM_VARIABLE BROWNGREEN {SCALE_SHIFT_BROWNGREEN_INFERNODRAKE}}
		{ELSEIF_RANDOM_VARIABLE BROWN {SCALE_SHIFT_BROWN_INFERNODRAKE}}
		{ELSEIF_RANDOM_VARIABLE SAURIAN {SCALE_SHIFT_SAURIAN_INFERNODRAKE}}
		{ELSEIF_RANDOM_VARIABLE NAGA {SCALE_SHIFT_NAGA_INFERNODRAKE}}
		{ELSEIF_RANDOM_VARIABLE WOSE {SCALE_SHIFT_WOSEBROWN_INFERNODRAKE}}
		{ELSEIF_RANDOM_VARIABLE WYVERN {SCALE_SHIFT_WYVERN_INFERNODRAKE}}
		{ELSEIF_RANDOM_VARIABLE_UNUSUAL UNUSUAL ({RANDOM {UNUSUAL_DRAKE_COLOR_ID}} [switch] variable=random
			{ELSEIF_RANDOM_VARIABLE ASHEN {SCALE_SHIFT_ASHEN_INFERNODRAKE}}
			{ELSEIF_RANDOM_VARIABLE GSE {SCALE_SHIFT_GSE_INFERNODRAKE}}
			{ELSEIF_RANDOM_VARIABLE FIREDRAKE {SCALE_SHIFT_FIREDRAKE_INFERNODRAKE}}
			{ELSEIF_RANDOM_VARIABLE INFERNO {SCALE_SHIFT_INFERNO_INFERNODRAKE}}
			{ELSEIF_RANDOM_VARIABLE ARMAGEDDON {SCALE_SHIFT_ARMAGEDDON_INFERNODRAKE}}
			{ELSEIF_RANDOM_VARIABLE ALBINO {SCALE_SHIFT_ALBINO_INFERNODRAKE}}
			[/switch])}
		)
		
		([if]
			[variable]
				name=random
				equals=ALBINO
			[/variable]
			[then]
				{MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE_ALB} $ucv_color $random}
			[/then]
			[else]
				{MODIFICATION_COLORCHANGER_CODE {SCALE_INFERNO_DRAKE} $ucv_color $random}
			[/else]
		[/if])
	}
	### Armageddon Burner scale color randomizer
	{MODIFICATION_COLORCHANGER_RANDOMIZER2
	([have_unit]
            {DRAKE_ARMAGEDDON_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		
		({DEFAULT_DRAKE_COLOR_ID})
		
		({DEFAULT_DRAKE_COLOR_ID},UNUSUAL)
		
		({ELSEIF_RANDOM_VARIABLE BURNER {SCALE_SHIFT_BURNER_ARMAGEDDONDRAKE}}
		{ELSEIF_RANDOM_VARIABLE GLIDER {SCALE_SHIFT_GLIDER_ARMAGEDDONDRAKE}}
		{ELSEIF_RANDOM_VARIABLE FIGHTER {SCALE_SHIFT_FIGHTER_ARMAGEDDONDRAKE}}
		{ELSEIF_RANDOM_VARIABLE BROWNGREEN {SCALE_SHIFT_BROWNGREEN_ARMAGEDDONDRAKE}}
		{ELSEIF_RANDOM_VARIABLE BROWN {SCALE_SHIFT_BROWN_ARMAGEDDONDRAKE}}
		{ELSEIF_RANDOM_VARIABLE SAURIAN {SCALE_SHIFT_SAURIAN_ARMAGEDDONDRAKE}}
		{ELSEIF_RANDOM_VARIABLE NAGA {SCALE_SHIFT_NAGA_ARMAGEDDONDRAKE}}
		{ELSEIF_RANDOM_VARIABLE WOSE {SCALE_SHIFT_WOSEBROWN_ARMAGEDDONDRAKE}}
		{ELSEIF_RANDOM_VARIABLE WYVERN {SCALE_SHIFT_WYVERN_ARMAGEDDONDRAKE}}
		{ELSEIF_RANDOM_VARIABLE_UNUSUAL UNUSUAL ({RANDOM {UNUSUAL_DRAKE_COLOR_ID}} [switch] variable=random
			{ELSEIF_RANDOM_VARIABLE ASHEN {SCALE_SHIFT_ASHEN_ARMAGEDDONDRAKE}}
			{ELSEIF_RANDOM_VARIABLE GSE {SCALE_SHIFT_GSE_ARMAGEDDONDRAKE}}
			{ELSEIF_RANDOM_VARIABLE FIREDRAKE {SCALE_SHIFT_FIREDRAKE_ARMAGEDDONDRAKE}}
			{ELSEIF_RANDOM_VARIABLE INFERNO {SCALE_SHIFT_INFERNO_ARMAGEDDONDRAKE}}
			{ELSEIF_RANDOM_VARIABLE ARMAGEDDON {SCALE_SHIFT_ARMAGEDDON_ARMAGEDDONDRAKE}}
			{ELSEIF_RANDOM_VARIABLE ALBINO {SCALE_SHIFT_ALBINO_ARMAGEDDONDRAKE}}
			[/switch])}
		)
		
		([if]
			[variable]
				name=random
				equals=ALBINO
			[/variable]
			[then]
				{MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE_ALB} $ucv_color $random}
			[/then]
			[else]
				{MODIFICATION_COLORCHANGER_CODE {SCALE_ARMAGEDDON_DRAKE} $ucv_color $random}
			[/else]
		[/if])
	}
	### Drake UMC (?) scale color randomizer
	{MODIFICATION_COLORCHANGER_RANDOMIZER2
	([have_unit]
			{DRAKE_UMC_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		
		({DEFAULT_DRAKE_COLOR_ID})
		
		({DEFAULT_DRAKE_COLOR_ID},UNUSUAL)
		
		({ELSEIF_RANDOM_VARIABLE BURNER {SCALE_SHIFT_BURNER_FIGHTERDRAKE}}
		{ELSEIF_RANDOM_VARIABLE GLIDER {SCALE_SHIFT_GLIDER_FIGHTERDRAKE}}
		{ELSEIF_RANDOM_VARIABLE FIGHTER {SCALE_SHIFT_FIGHTER_FIGHTERDRAKE}}
		{ELSEIF_RANDOM_VARIABLE BROWNGREEN {SCALE_SHIFT_BROWNGREEN_FIGHTERDRAKE}}
		{ELSEIF_RANDOM_VARIABLE BROWN {SCALE_SHIFT_BROWN_FIGHTERDRAKE}}
		{ELSEIF_RANDOM_VARIABLE SAURIAN {SCALE_SHIFT_SAURIAN_FIGHTERDRAKE}}
		{ELSEIF_RANDOM_VARIABLE NAGA {SCALE_SHIFT_NAGA_FIGHTERDRAKE}}
		{ELSEIF_RANDOM_VARIABLE WOSE {SCALE_SHIFT_WOSEBROWN_FIGHTERDRAKE}}
		{ELSEIF_RANDOM_VARIABLE WYVERN {SCALE_SHIFT_WYVERN_FIGHTERDRAKE}}
		{ELSEIF_RANDOM_VARIABLE_UNUSUAL UNUSUAL ({RANDOM {UNUSUAL_DRAKE_COLOR_ID}} [switch] variable=random
			{ELSEIF_RANDOM_VARIABLE ASHEN {SCALE_SHIFT_ASHEN_FIGHTERDRAKE}}
			{ELSEIF_RANDOM_VARIABLE GSE {SCALE_SHIFT_GSE_FIGHTERDRAKE}}
			{ELSEIF_RANDOM_VARIABLE FIREDRAKE {SCALE_SHIFT_FIREDRAKE_FIGHTERDRAKE}}
			{ELSEIF_RANDOM_VARIABLE INFERNO {SCALE_SHIFT_INFERNO_FIGHTERDRAKE}}
			{ELSEIF_RANDOM_VARIABLE ARMAGEDDON {SCALE_SHIFT_ARMAGEDDON_FIGHTERDRAKE}}
			{ELSEIF_RANDOM_VARIABLE ALBINO {SCALE_SHIFT_ALBINO_FIGHTERDRAKE}}
			[/switch])}
		)
		
		([if]
			[variable]
				name=random
				equals=ALBINO
			[/variable]
			[then]
				{MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE_ALB} $ucv_color $random}
			[/then]
			[else]
				{MODIFICATION_COLORCHANGER_CODE {SCALE_FIGHTER_DRAKE} $ucv_color $random}
			[/else]
		[/if])
	}
########################################################################
############					Loyalist					############
########################################################################

	### Base Loyalist Units
	{MODIFICATION_COLORCHANGER_RANDOMIZER2
	([have_unit]
			{LOYALIST_BASE_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		
		({DEFAULT_HUMAN_COLOR_ID})
		
		({DEFAULT_HUMAN_COLOR_ID},UNUSUAL)
		
		({ELSEIF_RANDOM_VARIABLE LOYALIST_BLUE {BASE_LOYALIST_BLUE_INFANTRY_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE CAVALIER {BASE_LOYALIST_CAVALIER_INFANTRY_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE GRAND_KNIGHT {BASE_LOYALIST_GRAND_KNIGHT_INFANTRY_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE PALADIN {BASE_LOYALIST_PALADIN_INFANTRY_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE KARRAG {BASE_KARRAG_INFANTRY_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE WITNESS {BASE_WITNESS_INFANTRY_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE SEACAPTAIN_STEEL {BASE_SEACAPTAIN_STEEL_INFANTRY_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE GERRIK {BASE_SIR_GERRIK_INFANTRY_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE_UNUSUAL UNUSUAL ({RANDOM {UNUSUAL_HUMAN_COLOR_ID}} [switch] variable=random
			{ELSEIF_RANDOM_VARIABLE ORC {BASE_ORC_INFANTERY_ARMOUR_COLOR}}
			{ELSEIF_RANDOM_VARIABLE HI {BASE_HEAVY_INFANTERY_INFANTRY_ARMOUR_COLOR}}
			{ELSEIF_RANDOM_VARIABLE UTBS_HUMAN {BASE_UTBS_HUMAN_INFANTERY_ARMOUR_COLOR}}
			{ELSEIF_RANDOM_VARIABLE GOLD_NEW {BASE_GOLD_NEW_INFANTRY_ARMOUR_COLOR}}
			{ELSEIF_RANDOM_VARIABLE DEATHKNIGHT {BASE_DEATHKNIGHT_INFANTRY_ARMOUR_COLOR}}
			{ELSEIF_RANDOM_VARIABLE MERFOLK_HOPLITE {BASE_MERFOLK_HOPLITE_INFANTRY_ARMOUR_COLOR}}
			[/switch])}
		)
		
		({MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_BLUE_ARMOUR_COLOR} $ucv_color $random})
	}
	### HI Units
	{MODIFICATION_COLORCHANGER_RANDOMIZER2
	([have_unit]
			{LOYALIST_HI_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		
		({DEFAULT_HUMAN_COLOR_ID})
		
		({DEFAULT_HUMAN_COLOR_ID},UNUSUAL)
		
		({ELSEIF_RANDOM_VARIABLE LOYALIST_BLUE {BASE_LOYALIST_BLUE_HI_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE CAVALIER {BASE_LOYALIST_CAVALIER_HI_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE GRAND_KNIGHT {BASE_LOYALIST_GRAND_KNIGHT_HI_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE PALADIN {BASE_LOYALIST_PALADIN_HI_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE KARRAG {BASE_KARRAG_HI_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE WITNESS {BASE_WITNESS_HI_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE SEACAPTAIN_STEEL {BASE_SEACAPTAIN_STEEL_HI_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE GERRIK {BASE_SIR_GERRIK_HI_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE_UNUSUAL UNUSUAL ({RANDOM {UNUSUAL_HUMAN_COLOR_ID}} [switch] variable=random
			{ELSEIF_RANDOM_VARIABLE ORC {BASE_ORC_HI_ARMOUR_COLOR}}
			{ELSEIF_RANDOM_VARIABLE HI {BASE_LOYALIST_HI_ARMOUR_COLOR}}
			{ELSEIF_RANDOM_VARIABLE UTBS_HUMAN {BASE_UTBS_HUMAN_HI_ARMOUR_COLOR}}
			{ELSEIF_RANDOM_VARIABLE GOLD_NEW {BASE_GOLD_NEW_HI_ARMOUR_COLOR}}
			{ELSEIF_RANDOM_VARIABLE DEATHKNIGHT {BASE_DEATHKNIGHT_HI_ARMOUR_COLOR}}
			{ELSEIF_RANDOM_VARIABLE MERFOLK_HOPLITE {BASE_MERFOLK_HOPLITE_HI_ARMOUR_COLOR}}
			[/switch])}
		)
		
		({MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_HI_ARMOUR_COLOR} $ucv_color $random})
	}
	### Grand Knight Units
	{MODIFICATION_COLORCHANGER_RANDOMIZER2
	([have_unit]
			{LOYALIST_GRAND_KNIGHT_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		
		({DEFAULT_HUMAN_COLOR_ID})
		
		({DEFAULT_HUMAN_COLOR_ID},UNUSUAL)
		
		({ELSEIF_RANDOM_VARIABLE LOYALIST_BLUE {BASE_LOYALIST_BLUE_HI_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE CAVALIER {BASE_LOYALIST_CAVALIER_HI_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE GRAND_KNIGHT {BASE_LOYALIST_GRAND_KNIGHT_HI_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE PALADIN {BASE_LOYALIST_PALADIN_HI_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE KARRAG {BASE_KARRAG_HI_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE WITNESS {BASE_WITNESS_HI_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE SEACAPTAIN_STEEL {BASE_SEACAPTAIN_STEEL_HI_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE GERRIK {BASE_SIR_GERRIK_HI_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE_UNUSUAL UNUSUAL ({RANDOM {UNUSUAL_HUMAN_COLOR_ID}} [switch] variable=random
			{ELSEIF_RANDOM_VARIABLE ORC {BASE_ORC_HI_ARMOUR_COLOR}}
			{ELSEIF_RANDOM_VARIABLE HI {BASE_HEAVY_INFANTERY_HI_ARMOUR_COLOR}}
			{ELSEIF_RANDOM_VARIABLE UTBS_HUMAN {BASE_UTBS_HUMAN_HI_ARMOUR_COLOR}}
			{ELSEIF_RANDOM_VARIABLE GOLD_NEW {BASE_GOLD_NEW_HI_ARMOUR_COLOR}}
			{ELSEIF_RANDOM_VARIABLE DEATHKNIGHT {BASE_DEATHKNIGHT_HI_ARMOUR_COLOR}}
			{ELSEIF_RANDOM_VARIABLE MERFOLK_HOPLITE {BASE_MERFOLK_HOPLITE_HI_ARMOUR_COLOR}}
			[/switch])}
		)
		
		({MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_GRAND_KNIGHT_ARMOUR_COLOR} $ucv_color $random})
	}
	### Cavalier Units
	{MODIFICATION_COLORCHANGER_RANDOMIZER2
	([have_unit]
			{LOYALIST_CAVALIER_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		
		({DEFAULT_HUMAN_COLOR_ID})
		
		({DEFAULT_HUMAN_COLOR_ID},UNUSUAL)
		
		({ELSEIF_RANDOM_VARIABLE LOYALIST_BLUE {BASE_LOYALIST_BLUE_CAVALIER_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE CAVALIER {BASE_LOYALIST_CAVALIER_CAVALIER_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE GRAND_KNIGHT {BASE_LOYALIST_GRAND_KNIGHT_CAVALIER_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE PALADIN {BASE_LOYALIST_PALADIN_CAVALIER_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE KARRAG {BASE_KARRAG_CAVALIER_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE WITNESS {BASE_WITNESS_CAVALIER_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE SEACAPTAIN_STEEL {BASE_SEACAPTAIN_STEEL_CAVALIER_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE GERRIK {BASE_SIR_GERRIK_CAVALIER_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE_UNUSUAL UNUSUAL ({RANDOM {UNUSUAL_HUMAN_COLOR_ID}} [switch] variable=random
			{ELSEIF_RANDOM_VARIABLE ORC {BASE_ORC_CAVALIER_ARMOUR_COLOR}}
			{ELSEIF_RANDOM_VARIABLE HI {BASE_HEAVY_INFANTERY_CAVALIER_ARMOUR_COLOR}}
			{ELSEIF_RANDOM_VARIABLE UTBS_HUMAN {BASE_UTBS_HUMAN_CAVALIER_ARMOUR_COLOR}}
			{ELSEIF_RANDOM_VARIABLE GOLD_NEW {BASE_GOLD_NEW_CAVALIER_ARMOUR_COLOR}}
			{ELSEIF_RANDOM_VARIABLE DEATHKNIGHT {BASE_DEATHKNIGHT_CAVALIER_ARMOUR_COLOR}}
			{ELSEIF_RANDOM_VARIABLE MERFOLK_HOPLITE {BASE_MERFOLK_HOPLITE_CAVALIER_ARMOUR_COLOR}}
			[/switch])}
		)
		
		({MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_CAVALIER_ARMOUR_COLOR} $ucv_color $random})
	}
	### Paladin Units
	{MODIFICATION_COLORCHANGER_RANDOMIZER2
	([have_unit]
			{LOYALIST_PALADIN_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		
		({DEFAULT_HUMAN_COLOR_ID})
		
		({DEFAULT_HUMAN_COLOR_ID},UNUSUAL)
		
		({ELSEIF_RANDOM_VARIABLE LOYALIST_BLUE {BASE_LOYALIST_BLUE_HI_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE CAVALIER {BASE_LOYALIST_CAVALIER_HI_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE GRAND_KNIGHT {BASE_LOYALIST_GRAND_KNIGHT_HI_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE PALADIN {BASE_LOYALIST_PALADIN_HI_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE KARRAG {BASE_KARRAG_HI_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE WITNESS {BASE_WITNESS_HI_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE SEACAPTAIN_STEEL {BASE_SEACAPTAIN_STEEL_HI_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE GERRIK {BASE_SIR_GERRIK_HI_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE_UNUSUAL UNUSUAL ({RANDOM {UNUSUAL_HUMAN_COLOR_ID}} [switch] variable=random
			{ELSEIF_RANDOM_VARIABLE ORC {BASE_ORC_HI_ARMOUR_COLOR}}
			{ELSEIF_RANDOM_VARIABLE HI {BASE_HEAVY_INFANTERY_HI_ARMOUR_COLOR}}
			{ELSEIF_RANDOM_VARIABLE UTBS_HUMAN {BASE_UTBS_HUMAN_HI_ARMOUR_COLOR}}
			{ELSEIF_RANDOM_VARIABLE GOLD_NEW {BASE_GOLD_NEW_HI_ARMOUR_COLOR}}
			{ELSEIF_RANDOM_VARIABLE DEATHKNIGHT {BASE_DEATHKNIGHT_HI_ARMOUR_COLOR}}
			{ELSEIF_RANDOM_VARIABLE MERFOLK_HOPLITE {BASE_MERFOLK_HOPLITE_HI_ARMOUR_COLOR}}
			[/switch])}
		)
		
		({MODIFICATION_COLORCHANGER_CODE {BASE_LOYALIST_PALADIN_ARMOUR_COLOR} $ucv_color $random})
	}
########################################################################
############					Troll						############
########################################################################

	### Troll color randomizer
	{MODIFICATION_COLORCHANGER_RANDOMIZER2
	([have_unit]
            {TROLL_RACE_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		
		({DEFAULT_TROLL_COLOR_ID})
		
		({DEFAULT_TROLL_COLOR_ID},UNUSUAL)
		
		({ELSEIF_RANDOM_VARIABLE GREY {TROLL_GREY}}
		{ELSEIF_RANDOM_VARIABLE WOODENEARTH {TROLL_WOODENEARTH}}
		{ELSEIF_RANDOM_VARIABLE EARTHEN {TROLL_EARTHEN}}
		{ELSEIF_RANDOM_VARIABLE DARKERMUD {TROLL_DARKERMUD}}
		{ELSEIF_RANDOM_VARIABLE DARKMUD {TROLL_DARKMUD}}
		{ELSEIF_RANDOM_VARIABLE DARKGREEN {TROLL_DARKGREEN}}
		{ELSEIF_RANDOM_VARIABLE DARKBRIGHTSTONE {TROLL_DARKBRIGHTSTONE}}
		{ELSEIF_RANDOM_VARIABLE HEAVY_INFANTERY {BASE_HEAVY_INFANTERY_HI_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE ROYAL_WARRIOR {BASE_ROYAL_WARRIOR_HI_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE CHEVALIER {BASE_CHEVALIER_HI_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE ELF_DARKER {BASE_ELF_DARKER_HI_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE ELF_LIGHTER {BASE_ELF_LIGHTER_HI_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE DARK_ASSASSIN {BASE_DARK_ASSASSIN_CLOAK_HI_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE DREADBAT_METAL {BASE_DREADBAT_METAL_HI_ARMOUR_COLOR}}
		{ELSEIF_RANDOM_VARIABLE_UNUSUAL UNUSUAL ({RANDOM {UNUSUAL_TROLL_COLOR_ID}} [switch] variable=random
			{ELSEIF_RANDOM_VARIABLE SANDSTONE {TROLL_SANDSTONE}}
			{ELSEIF_RANDOM_VARIABLE MOLTEN {TROLL_MOLTEN}}
			{ELSEIF_RANDOM_VARIABLE GOLD_NEW {BASE_GOLD_NEW_HI_ARMOUR_COLOR}}
			{ELSEIF_RANDOM_VARIABLE SIR_GERRIK {BASE_SIR_GERRIK_HI_ARMOUR_COLOR}}
			{ELSEIF_RANDOM_VARIABLE SKELETON_RIDER {BASE_SKELETON_RIDER_HI_ARMOUR_COLOR}}
			[/switch])}
		)
		
		({MODIFICATION_COLORCHANGER_CODE {TROLL_GREY} $ucv_color $random})
	}
########################################################################
############					Merfolk						############
########################################################################

	### Merfolk color randomizer
	#define MERFOLK_HAIR_RANDOMISER_UCV
	### Merfolk hair randomizer
	[if]
		[false][/false]
		[then]
		[/then]
	{MODIFICATION_COLORCHANGER_RANDOMIZER3
	([have_unit]
            {MERFOLK_RACE_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift_hair=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		
		([set_variable]
			name=random2
			rand={DEFAULT_MERFOLK_HAIR_COLOR_ID}
		[/set_variable])
		
		([set_variable]
			name=random2
			rand={DEFAULT_MERFOLK_HAIR_COLOR_ID}
		[/set_variable])
		
		({ELSEIF_RANDOM2_VARIABLE MERFOLK_HAIR {MERFOLK_HAIR}}
		{ELSEIF_RANDOM2_VARIABLE MERFOLK_HAIR_JAVELINEER18 {MERFOLK_HAIR_JAVELINEER18}}
		{ELSEIF_RANDOM2_VARIABLE MERFOLK_HAIR_SIREN18 {MERFOLK_HAIR_SIREN18}}
		{ELSEIF_RANDOM2_VARIABLE MERFOLK_HAIR_SPEARMAN18 {MERFOLK_HAIR_SPEARMAN18}}
		{ELSEIF_RANDOM2_VARIABLE MERFOLK_HAIR_ENTANGLER16 {MERFOLK_HAIR_ENTANGLER16}}
		{ELSEIF_RANDOM2_VARIABLE MERFOLK_HAIR_ENTANGLER18 {MERFOLK_HAIR_ENTANGLER18}}
		{ELSEIF_RANDOM2_VARIABLE MERFOLK_HAIR_SPEARMAN16 {MERFOLK_HAIR_SPEARMAN16}}
		{ELSEIF_RANDOM2_VARIABLE MERFOLK_HAIR_JAVELINEER16 {MERFOLK_HAIR_JAVELINEER16}}
		{ELSEIF_RANDOM2_VARIABLE MERFOLK_HAIR_SIREN16 {MERFOLK_HAIR_SIREN16}}
		{ELSEIF_RANDOM2_VARIABLE MERFOLK_HAIR_ENCHANTRESS18 {MERFOLK_HAIR_ENCHANTRESS18}}
		{ELSEIF_RANDOM2_VARIABLE MERFOLK_HAIR_ENCHANTRESS16 {MERFOLK_HAIR_ENCHANTRESS16}}
		)
		
		({MODIFICATION_COLORCHANGER_CODE ("$merfolk.basecolor,$merfolk.basecolor_hair") ("$ucv_color,$ucv_color2") $random})
	}
	[/if]
	#enddef
	
	{MODIFICATION_COLORCHANGER_RANDOMIZER2
	([have_unit]
            {MERFOLK_RACE_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift_hair=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		
		({DEFAULT_MERFOLK_COLOR_ID})
		
		({DEFAULT_MERFOLK_COLOR_ID},UNUSUAL)
		
		({ELSEIF_RANDOM_VARIABLE MERFOLK_BLUE {MERFOLK_BLUE}}
		{ELSEIF_RANDOM_VARIABLE MERFOLK_DIVINER18 {MERFOLK_DIVINER18}}
		{ELSEIF_RANDOM_VARIABLE MERFOLK_DIVINER16 {MERFOLK_DIVINER16}}
		{ELSEIF_RANDOM_VARIABLE MERFOLK_JAVELINEER18 {MERFOLK_JAVELINEER18}}
		{ELSEIF_RANDOM_VARIABLE MERFOLK_JAVELINEER16 {MERFOLK_JAVELINEER16}}
		{ELSEIF_RANDOM_VARIABLE MERFOLK_PRIESTESS18 {MERFOLK_PRIESTESS18}}
		{ELSEIF_RANDOM_VARIABLE MERFOLK_PRIESTESS16 {MERFOLK_PRIESTESS16}}
		{ELSEIF_RANDOM_VARIABLE MERFOLK_SPEARMAN18 {MERFOLK_SPEARMAN18}}
		{ELSEIF_RANDOM_VARIABLE MERFOLK_SPEARMAN16 {MERFOLK_SPEARMAN16}}
		{ELSEIF_RANDOM_VARIABLE_UNUSUAL UNUSUAL ({RANDOM {UNUSUAL_MERFOLK_COLOR_ID}} [switch] variable=random
			{ELSEIF_RANDOM_VARIABLE MERFOLK_ENCHANTRESS18 {MERFOLK_ENCHANTRESS18}}
			{ELSEIF_RANDOM_VARIABLE MERFOLK_ENCHANTRESS16 {MERFOLK_ENCHANTRESS16}}
			{ELSEIF_RANDOM_VARIABLE MERFOLK_ENTANGLER18 {MERFOLK_ENTANGLER18}}
			{ELSEIF_RANDOM_VARIABLE MERFOLK_ENTANGLER16 {MERFOLK_ENTANGLER16}}
			{ELSEIF_RANDOM_VARIABLE MERFOLK_NETCASTER18 {MERFOLK_NETCASTER18}}
			{ELSEIF_RANDOM_VARIABLE MERFOLK_NETCASTER16 {MERFOLK_NETCASTER16}}
			{ELSEIF_RANDOM_VARIABLE MERFOLK_SIREN18 {MERFOLK_SIREN18}}
			{ELSEIF_RANDOM_VARIABLE MERFOLK_SIREN16 {MERFOLK_SIREN16}}
			[/switch])}
		)
		({MERFOLK_HAIR_RANDOMISER_UCV})
	}
	
########################################################################
############				Orcs/Goblins/Wolves				############
########################################################################

	### Orcish Grunt Armour Color
	{MODIFICATION_COLORCHANGER_RANDOMIZER2
	([have_unit]
            {ORCISH_GRUNT_ARMOUR_RACE_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		
		({DEFAULT_ORCISH_COLOR_ID})
		
		({DEFAULT_ORCISH_COLOR_ID},UNUSUAL)
		
		({ELSEIF_RANDOM_VARIABLE BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR}}
		{ELSEIF_RANDOM_VARIABLE BASE_NORTHERNER_ORCISH_ARMOUR10_COLOR {BASE_NORTHERNER_ORCISH_ARMOUR10_COLOR}}
		{ELSEIF_RANDOM_VARIABLE BASE_NORTHERNER_ORCISH_ARMOUR_10_COLOR {BASE_NORTHERNER_ORCISH_ARMOUR_10_COLOR}}
		{ELSEIF_RANDOM_VARIABLE BASE_NORTHERNER_ORCISH_ARMOUR25_COLOR {BASE_NORTHERNER_ORCISH_ARMOUR25_COLOR}}
		{ELSEIF_RANDOM_VARIABLE BASE_NORTHERNER_ORCISH_ARMOUR2510_COLOR {BASE_NORTHERNER_ORCISH_ARMOUR2510_COLOR}}
		{ELSEIF_RANDOM_VARIABLE BASE_NORTHERNER_ORCISH_ARMOUR25_10_COLOR {BASE_NORTHERNER_ORCISH_ARMOUR25_10_COLOR}}
		{ELSEIF_RANDOM_VARIABLE BASE_NORTHERNER_ORCISH_ARMOUR50_COLOR {BASE_NORTHERNER_ORCISH_ARMOUR50_COLOR}}
		{ELSEIF_RANDOM_VARIABLE BASE_NORTHERNER_ORCISH_ARMOUR5010_COLOR {BASE_NORTHERNER_ORCISH_ARMOUR5010_COLOR}}
		{ELSEIF_RANDOM_VARIABLE BASE_NORTHERNER_ORCISH_ARMOUR50_10_COLOR {BASE_NORTHERNER_ORCISH_ARMOUR50_10_COLOR}}
		{ELSEIF_RANDOM_VARIABLE BASE_NORTHERNER_ORCISH_ARMOUR_25_COLOR {BASE_NORTHERNER_ORCISH_ARMOUR_25_COLOR}}
		{ELSEIF_RANDOM_VARIABLE BASE_NORTHERNER_ORCISH_ARMOUR_2510_COLOR {BASE_NORTHERNER_ORCISH_ARMOUR_2510_COLOR}}
		{ELSEIF_RANDOM_VARIABLE BASE_NORTHERNER_ORCISH_ARMOUR_25_10_COLOR {BASE_NORTHERNER_ORCISH_ARMOUR_25_10_COLOR}}
		{ELSEIF_RANDOM_VARIABLE_UNUSUAL UNUSUAL ({RANDOM {UNUSUAL_ORCISH_COLOR_ID},UNUSUAL} [switch] variable=random
			{ELSEIF_RANDOM_VARIABLE BASE_NORTHERNER_LIGHT_LOYALIST_ARMOUR_COLOR {BASE_NORTHERNER_LIGHT_LOYALIST_ARMOUR_COLOR}}
			{ELSEIF_RANDOM_VARIABLE BASE_NORTHERNER_HEAVY_INFANTERY_ARMOUR_COLOR {BASE_NORTHERNER_HEAVY_INFANTERY_ARMOUR_COLOR}}
			{ELSEIF_RANDOM_VARIABLE BASE_NORTHERNER_ELVISH_ARMOUR_COLOR {BASE_NORTHERNER_ELVISH_ARMOUR_COLOR}}
			{ELSEIF_RANDOM_VARIABLE BASE_NORTHERNER_DUNEFOLK_ARMOUR_COLOR {BASE_NORTHERNER_DUNEFOLK_ARMOUR_COLOR}}
			{ELSEIF_RANDOM_VARIABLE_UNUSUAL UNUSUAL ({RANDOM {SKIN_ORCISH_HAIR_COLOR_ID}} [switch] variable=random
				{ELSEIF_RANDOM_VARIABLE BASE_NORTHERNER_LIGHT_LOYALIST_ARMOUR_COLOR_SKIN {BASE_NORTHERNER_LIGHT_LOYALIST_ARMOUR_COLOR},{BASE_NORTHERNER_HUMAN_SKIN_COLOR}}
				{ELSEIF_RANDOM_VARIABLE BASE_NORTHERNER_ORCISH_ARMOUR_COLOR_SKIN {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR},{BASE_NORTHERNER_HUMAN_SKIN_COLOR}}
				[/switch])}
			[/switch])}
		)
		
		([if]
			[variable]
				name=random
				equals=BASE_NORTHERNER_LIGHT_LOYALIST_ARMOUR_COLOR_SKIN
			[/variable]
			[or]
				[variable]
					name=random
					equals=BASE_NORTHERNER_ORCISH_ARMOUR_COLOR_SKIN
				[/variable]
			[/or]
			[then]
				{MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR},{BASE_NORTHERNER_ORCISH_SKIN_COLOR} $ucv_color $random}
			[/then]
			[elseif]
				[variable]
					name=random
					equals=BASE_NORTHERNER_ORCISH_ARMOUR_COLOR_SKIN
				[/variable]
				[then]
					{MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR},{BASE_NORTHERNER_ORCISH_SKIN_COLOR} $ucv_color $random}
				[/then]
			[/elseif]
			[else]
				{MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} $ucv_color $random}
			[/else]
		[/if])
	}
	
	### Orcish Ruler/XBowmen Armour Color
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([have_unit]
            {ORCISH_BOWMAN_ARMOUR_RACE_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		(1..12)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR10_COLOR}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_10_COLOR}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR25_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR25_COLOR}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR2510_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR2510_COLOR}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR25_10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR25_10_COLOR}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR50_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR50_COLOR}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR5010_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR5010_COLOR}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR50_10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR50_10_COLOR}}
		{ELSEIF_RANDOM 10 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_25_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_25_COLOR}}
		{ELSEIF_RANDOM 11 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_2510_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_2510_COLOR}}
		{ELSEIF_RANDOM 12 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_25_10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_25_10_COLOR}}
		)
		
		(1..13)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR10_COLOR}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_10_COLOR}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR25_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR25_COLOR}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR2510_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR2510_COLOR}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR25_10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR25_10_COLOR}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR50_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR50_COLOR}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR5010_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR5010_COLOR}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR50_10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR50_10_COLOR}}
		{ELSEIF_RANDOM 10 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_25_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_25_COLOR}}
		{ELSEIF_RANDOM 11 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_2510_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_2510_COLOR}}
		{ELSEIF_RANDOM 12 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_25_10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_25_10_COLOR}}
		{ELSEIF_RANDOM 13 ({RANDOM 1..5} [if]
			{THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_DARK_LOYALIST_ARMOUR_COLOR} BASE_NORTHERNER_DARK_LOYALIST_ARMOUR_COLOR}}
			{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_HEAVY_INFANTERY_ARMOUR_COLOR} BASE_NORTHERNER_HEAVY_INFANTERY_ARMOUR_COLOR}}
			{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ELVISH_ARMOUR_COLOR} BASE_NORTHERNER_ELVISH_ARMOUR_COLOR}}
			{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_DUNEFOLK_ARMOUR_COLOR} BASE_NORTHERNER_DUNEFOLK_ARMOUR_COLOR}}
			{ELSEIF_RANDOM 5 ({RANDOM 1..2} [if]
				{THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR},{BASE_NORTHERNER_ORCISH_SKIN_COLOR} {BASE_NORTHERNER_DARK_LOYALIST_ARMOUR_COLOR},{BASE_NORTHERNER_HUMAN_SKIN_COLOR} BASE_NORTHERNER_DARK_LOYALIST_ARMOUR_COLOR_SKIN}}
				{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR},{BASE_NORTHERNER_ORCISH_SKIN_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR},{BASE_NORTHERNER_HUMAN_SKIN_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_COLOR_SKIN}}
				[/if])}
			[/if])}
		)	
	}
	
	### Goblin Armour Color
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([have_unit]
            {GOBLIN_ARMOUR_RACE_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		(1..12)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_COLOR}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR10_COLOR}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_10_COLOR}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR25_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR25_COLOR}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR2510_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR2510_COLOR}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR25_10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR25_10_COLOR}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR50_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR50_COLOR}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR5010_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR5010_COLOR}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR50_10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR50_10_COLOR}}
		{ELSEIF_RANDOM 10 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_25_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_25_COLOR}}
		{ELSEIF_RANDOM 11 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_2510_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_2510_COLOR}}
		{ELSEIF_RANDOM 12 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_25_10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_25_10_COLOR}}
		)
		
		(1..13)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_COLOR}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR10_COLOR}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_10_COLOR}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR25_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR25_COLOR}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR2510_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR2510_COLOR}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR25_10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR25_10_COLOR}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR50_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR50_COLOR}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR5010_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR5010_COLOR}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR50_10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR50_10_COLOR}}
		{ELSEIF_RANDOM 10 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_25_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_25_COLOR}}
		{ELSEIF_RANDOM 11 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_2510_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_2510_COLOR}}
		{ELSEIF_RANDOM 12 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ORCISH_ARMOUR_25_10_COLOR} BASE_NORTHERNER_ORCISH_ARMOUR_25_10_COLOR}}
		{ELSEIF_RANDOM 13 ({RANDOM 1..4} [if]
			{THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_LIGHT_LOYALIST_ARMOUR_COLOR} BASE_NORTHERNER_LIGHT_LOYALIST_ARMOUR_COLOR}}
			{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_HEAVY_INFANTERY_ARMOUR_COLOR} BASE_NORTHERNER_HEAVY_INFANTERY_ARMOUR_COLOR}}
			{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_ELVISH_ARMOUR_COLOR} BASE_NORTHERNER_ELVISH_ARMOUR_COLOR}}
			{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR} {BASE_NORTHERNER_DUNEFOLK_ARMOUR_COLOR} BASE_NORTHERNER_DUNEFOLK_ARMOUR_COLOR}}
			[/if])}
		)	
	}
	
	### Assassin Cloth Color
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([have_unit]
            {ORCISH_ASSASSIN_RACE_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		(1..11)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_BLUEISH_BROWN} BASE_NORTHERNER_ORCISH_ASSASSIN_BLUEISH_BROWN}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_REDDISH_GREEN} BASE_NORTHERNER_ORCISH_ASSASSIN_REDDISH_GREEN}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_BROWNISH} BASE_NORTHERNER_ORCISH_ASSASSIN_BROWNISH}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_BLUEISH} BASE_NORTHERNER_ORCISH_ASSASSIN_BLUEISH}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_BROWNISH_RED} BASE_NORTHERNER_ORCISH_ASSASSIN_BROWNISH_RED}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_BLUEISH_BROWN_COMBO} BASE_NORTHERNER_ORCISH_ASSASSIN_BLUEISH_BROWN_COMBO}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_REDDISH_GREEN_COMBO} BASE_NORTHERNER_ORCISH_ASSASSIN_REDDISH_GREEN_COMBO}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_BROWNISH_COMBO} BASE_NORTHERNER_ORCISH_ASSASSIN_BROWNISH_COMBO}}
		{ELSEIF_RANDOM 10 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_BLUEISH_COMBO} BASE_NORTHERNER_ORCISH_ASSASSIN_BLUEISH_COMBO}}
		{ELSEIF_RANDOM 11 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_BROWNISH_RED_COMBO} BASE_NORTHERNER_ORCISH_ASSASSIN_BROWNISH_RED_COMBO}}
		)
		
		(1..12)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_BLUEISH_BROWN} BASE_NORTHERNER_ORCISH_ASSASSIN_BLUEISH_BROWN}}
		{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_REDDISH_GREEN} BASE_NORTHERNER_ORCISH_ASSASSIN_REDDISH_GREEN}}
		{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_BROWNISH} BASE_NORTHERNER_ORCISH_ASSASSIN_BROWNISH}}
		{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_BLUEISH} BASE_NORTHERNER_ORCISH_ASSASSIN_BLUEISH}}
		{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_BROWNISH_RED} BASE_NORTHERNER_ORCISH_ASSASSIN_BROWNISH_RED}}
		{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_BLUEISH_BROWN_COMBO} BASE_NORTHERNER_ORCISH_ASSASSIN_BLUEISH_BROWN_COMBO}}
		{ELSEIF_RANDOM 8 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_REDDISH_GREEN_COMBO} BASE_NORTHERNER_ORCISH_ASSASSIN_REDDISH_GREEN_COMBO}}
		{ELSEIF_RANDOM 9 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_BROWNISH_COMBO} BASE_NORTHERNER_ORCISH_ASSASSIN_BROWNISH_COMBO}}
		{ELSEIF_RANDOM 10 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_BLUEISH_COMBO} BASE_NORTHERNER_ORCISH_ASSASSIN_BLUEISH_COMBO}}
		{ELSEIF_RANDOM 11 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_BROWNISH_RED_COMBO} BASE_NORTHERNER_ORCISH_ASSASSIN_BROWNISH_RED_COMBO}}
		{ELSEIF_RANDOM 12 ({RANDOM 1..6} [if]
			{THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_BLUE_YELLOW} BASE_NORTHERNER_ORCISH_ASSASSIN_BLUE_YELLOW}}
			{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_GREEN} BASE_NORTHERNER_ORCISH_ASSASSIN_GREEN}}
			{ELSEIF_RANDOM 3 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_BLUE} BASE_NORTHERNER_ORCISH_ASSASSIN_BLUE}}
			{ELSEIF_RANDOM 4 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_PURPLE} BASE_NORTHERNER_ORCISH_ASSASSIN_PURPLE}}
			{ELSEIF_RANDOM 5 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_MOSS} BASE_NORTHERNER_ORCISH_ASSASSIN_MOSS}}
			{ELSEIF_RANDOM 6 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_GREY} BASE_NORTHERNER_ORCISH_ASSASSIN_GREY}}
			{ELSEIF_RANDOM 7 {MODIFICATION_COLORCHANGER_CODE {BASE_NORTHERNER_ORCISH_ASSASSIN_COLOR} {BASE_NORTHERNER_ORCISH_ASSASSIN_MUMMY} BASE_NORTHERNER_ORCISH_ASSASSIN_MUMMY}}
			[/if])}
		)	
	}
	
	### Wolf Rider randomizer	
	
	#define WOLF_PLACE_CODE FILTERWML BASECOLOR FURCOLOR NEWCOLOR NEWFURCOLOR ID
    [elseif]
		[have_unit]
            {FILTERWML}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		[then]
		{MODIFICATION_COLORCHANGER_CODE {BASECOLOR},{FURCOLOR} {NEWCOLOR},{NEWFURCOLOR} {ID}}
		[/then]
	[/elseif]
	
	#enddef
	
	#define WOLF_BASE_CODE_RANDOMISER_UCV
		[if]
		[false][/false]
		[then]
		[/then]
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([have_unit]
            {WOLF_RACE_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift_hair=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		(1..5)
		({THEN_RANDOM ({VARIABLE wolfrider.newcolor_fur {WOLF_FUR}} {VARIABLE wolfrider.idcolor_fur WOLF_FUR})}
		{ELSEIF_RANDOM 2 ({VARIABLE wolfrider.newcolor_fur {WOLF_PILLAGE_FUR}} {VARIABLE wolfrider.idcolor_fur WOLF_PILLAGE_FUR})}
		{ELSEIF_RANDOM 3 ({VARIABLE wolfrider.newcolor_fur {GREAT_WOLF_FUR}} {VARIABLE wolfrider.idcolor_fur GREAT_WOLF_FUR})}
		{ELSEIF_RANDOM 4 ({VARIABLE wolfrider.newcolor_fur {WOLF_FUR_WOLF_PILLAGE_FUR}} {VARIABLE wolfrider.idcolor_fur WOLF_FUR_WOLF_PILLAGE_FUR})}
		{ELSEIF_RANDOM 5 ({VARIABLE wolfrider.newcolor_fur {WOLF_FUR_GREAT_WOLF_FUR}} {VARIABLE wolfrider.idcolor_fur WOLF_FUR_GREAT_WOLF_FUR})}
		)

		(1..6)
		({THEN_RANDOM ({VARIABLE wolfrider.newcolor_fur {WOLF_FUR}} {VARIABLE wolfrider.idcolor_fur WOLF_FUR})}
		{ELSEIF_RANDOM 2 ({VARIABLE wolfrider.newcolor_fur {WOLF_PILLAGE_FUR}} {VARIABLE wolfrider.idcolor_fur WOLF_PILLAGE_FUR})}
		{ELSEIF_RANDOM 3 ({VARIABLE wolfrider.newcolor_fur {GREAT_WOLF_FUR}} {VARIABLE wolfrider.idcolor_fur GREAT_WOLF_FUR})}
		{ELSEIF_RANDOM 4 ({VARIABLE wolfrider.newcolor_fur {WOLF_FUR_WOLF_PILLAGE_FUR}} {VARIABLE wolfrider.idcolor_fur WOLF_FUR_WOLF_PILLAGE_FUR})}
		{ELSEIF_RANDOM 5 ({VARIABLE wolfrider.newcolor_fur {WOLF_FUR_GREAT_WOLF_FUR}} {VARIABLE wolfrider.idcolor_fur WOLF_FUR_GREAT_WOLF_FUR})}
		{ELSEIF_RANDOM 6 ({RANDOM 1..4} [if]
			{THEN_RANDOM ({VARIABLE wolfrider.newcolor_fur {DIREWOLF_FUR}} {VARIABLE wolfrider.idcolor_fur DIREWOLF_FUR})}
			{ELSEIF_RANDOM 2 ({VARIABLE wolfrider.newcolor_fur {WOLF_PILLAGE_FUR_DIREWOLF_FUR}} {VARIABLE wolfrider.idcolor_fur WOLF_PILLAGE_FUR_DIREWOLF_FUR})}
			{ELSEIF_RANDOM 3 ({VARIABLE wolfrider.newcolor_fur {GREAT_WOLF_FUR_DIREWOLF_FUR}} {VARIABLE wolfrider.idcolor_fur GREAT_WOLF_FUR_DIREWOLF_FUR})}
			{ELSEIF_RANDOM 4 ({RANDOM 1..3} [if]
				{THEN_RANDOM ({VARIABLE wolfrider.newcolor_fur {WHITE_WOLF_FUR}} {VARIABLE wolfrider.idcolor_fur WHITE_WOLF_FUR})}
				{ELSEIF_RANDOM 2 ({VARIABLE wolfrider.newcolor_fur {WHITEGREY_WOLF_FUR}} {VARIABLE wolfrider.idcolor_fur WHITEGREY_WOLF_FUR})}
				{ELSEIF_RANDOM 3 ({VARIABLE wolfrider.newcolor_fur {BLACK_WOLF_FUR}} {VARIABLE wolfrider.idcolor_fur BLACK_WOLF_FUR})}
				[/if])}
			[/if])}
		)
	}
	[/if]
	
	[if]
	[false][/false]
	[then]
	[/then]
	{WOLF_PLACE_CODE {WOLF_RIDER_RACE_LIST} $wolfrider.basecolor $wolfrider.basecolor_fur $wolfrider.newcolor $wolfrider.newcolor_fur ("$wolfrider.newcolor,$wolfrider.newcolor_fur")}
	{WOLF_PLACE_CODE {PILLAGERWOLF_RIDER_RACE_LIST} $wolfrider.basecolor $wolfriderpillager.basecolor_fur $wolfrider.newcolor $wolfrider.newcolor_fur ("$wolfrider.newcolor,$wolfrider.newcolor_fur")}
	{WOLF_PLACE_CODE {GREATWOLF_RIDER_RACE_LIST} $wolfrider.basecolor $greatwolfrider.basecolor_fur $wolfrider.newcolor $wolfrider.newcolor_fur ("$wolfrider.newcolor,$wolfrider.newcolor_fur")}
	{WOLF_PLACE_CODE {DIREWOLF_RIDER_RACE_LIST} $wolfrider.basecolor $direwolfrider.basecolor_fur $wolfrider.newcolor $wolfrider.newcolor_fur ("$wolfrider.newcolor,$wolfrider.newcolor_fur")}
	[/if]
	#enddef
	
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([have_unit]
            {WOLF_RACE_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		(1..12)
		({THEN_RANDOM ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 2 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR10_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR10_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 3 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR_10_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR_10_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 4 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR25_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR25_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 5 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR2510_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR2510_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 6 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR25_10_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR25_10_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 7 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR50_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR50_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 8 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR5010_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR5010_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 9 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR50_10_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR50_10_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 10 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR_25_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR_25_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 11 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR_2510_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR_2510_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 12 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR_25_10_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR_25_10_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		)
		
		(1..13)
		({THEN_RANDOM ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 2 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR10_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR10_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 3 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR_10_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR_10_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 4 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR25_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR25_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 5 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR2510_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR2510_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 6 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR25_10_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR25_10_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 7 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR50_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR50_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 8 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR5010_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR5010_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 9 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR50_10_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR50_10_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 10 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR_25_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR_25_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 11 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR_2510_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR_2510_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 12 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ORCISH_ARMOUR_25_10_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ORCISH_ARMOUR_25_10_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 13 ({RANDOM 1..4} [if]
			{THEN_RANDOM ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_LIGHT_LOYALIST_ARMOUR_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_LIGHT_LOYALIST_ARMOUR_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
			{ELSEIF_RANDOM 2 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_HEAVY_INFANTERY_ARMOUR_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_HEAVY_INFANTERY_ARMOUR_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
			{ELSEIF_RANDOM 3 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_ELVISH_ARMOUR_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_ELVISH_ARMOUR_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
			{ELSEIF_RANDOM 4 ({VARIABLE wolfrider.newcolor {BASE_NORTHERNER_DUNEFOLK_ARMOUR_COLOR}} {VARIABLE wolfrider.idcolor BASE_NORTHERNER_DUNEFOLK_ARMOUR_COLOR} {WOLF_BASE_CODE_RANDOMISER_UCV})}
			[/if])}
		)
	}
########################################################################
############					WOSE						############
########################################################################

	### Wose color randomizer
	#define WOSE_BARK_RANDOMISER_UCV
	### Wose Bark randomizer
	[if]
		[false][/false]
		[then]
		[/then]
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([have_unit]
            {WOSE_RACE_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift_hair=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		(1..11)
		({THEN_RANDOM {VARIABLE wose.newcolor_bark {DEFAULT_WOSE_BARK}}}
		{ELSEIF_RANDOM 2 {VARIABLE wose.newcolor_bark {WOSE_BARK_CS1}}}
		{ELSEIF_RANDOM 3 {VARIABLE wose.newcolor_bark {WOSE_BARK_CS2}}}
		{ELSEIF_RANDOM 4 {VARIABLE wose.newcolor_bark {WOSE_BARK_CS3}}}
		{ELSEIF_RANDOM 5 {VARIABLE wose.newcolor_bark {WOSE_BARK_CS4}}}
		{ELSEIF_RANDOM 6 {VARIABLE wose.newcolor_bark {WOSE_BARK_CS5}}}
		{ELSEIF_RANDOM 7 {VARIABLE wose.newcolor_bark {WOSE_BARK_CS6}}}
		{ELSEIF_RANDOM 8 {VARIABLE wose.newcolor_bark {WOSE_BARK_BROWNER}}}
		{ELSEIF_RANDOM 9 {VARIABLE wose.newcolor_bark {WOSE_BARK_LIGHTBROWN_GREEN1}}}
		{ELSEIF_RANDOM 10 {VARIABLE wose.newcolor_bark {WOSE_BARK_LIGHTBROWN_GREEN2}}}
		{ELSEIF_RANDOM 11 {VARIABLE wose.newcolor_bark {WOSE_BARK_LIGHTBROWN}}}
		)
		
		(1..12)
		({THEN_RANDOM {VARIABLE wose.newcolor_bark {DEFAULT_WOSE_BARK}}}
		{ELSEIF_RANDOM 2 {VARIABLE wose.newcolor_bark {WOSE_BARK_CS1}}}
		{ELSEIF_RANDOM 3 {VARIABLE wose.newcolor_bark {WOSE_BARK_CS2}}}
		{ELSEIF_RANDOM 4 {VARIABLE wose.newcolor_bark {WOSE_BARK_CS3}}}
		{ELSEIF_RANDOM 5 {VARIABLE wose.newcolor_bark {WOSE_BARK_CS4}}}
		{ELSEIF_RANDOM 6 {VARIABLE wose.newcolor_bark {WOSE_BARK_CS5}}}
		{ELSEIF_RANDOM 7 {VARIABLE wose.newcolor_bark {WOSE_BARK_CS6}}}
		{ELSEIF_RANDOM 8 {VARIABLE wose.newcolor_bark {WOSE_BARK_BROWNER}}}
		{ELSEIF_RANDOM 9 {VARIABLE wose.newcolor_bark {WOSE_BARK_LIGHTBROWN_GREEN1}}}
		{ELSEIF_RANDOM 10 {VARIABLE wose.newcolor_bark {WOSE_BARK_LIGHTBROWN_GREEN2}}}
		{ELSEIF_RANDOM 11 {VARIABLE wose.newcolor_bark {WOSE_BARK_LIGHTBROWN}}}
		{ELSEIF_RANDOM 12 ({RANDOM 1..3} [if]
			{THEN_RANDOM {VARIABLE wose.newcolor_bark {WOSE_BARK_BIRCH}}}
			{ELSEIF_RANDOM 2 {VARIABLE wose.newcolor_bark {WOSE_BARK_DUNEFOLK1}}}
			{ELSEIF_RANDOM 3 {VARIABLE wose.newcolor_bark {WOSE_BARK_GREEN2}}}
			[/if])}
		)
	}
	[/if]
	{MODIFICATION_COLORCHANGER_CODE ("$wose.basecolor_bark,$wose.basecolor_leaf") ("$wose.newcolor_bark,$wose.newcolor_leaf") $wose.idcolor}
	#enddef
	
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([have_unit]
            {WOSE_RACE_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		(1..7)
		({THEN_RANDOM ({VARIABLE wose.newcolor_leaf {DEFAULT_WOSE_LEAF}} {VARIABLE wose.idcolor DEFAULT_WOSE_LEAFs} {WOSE_BARK_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 2 ({VARIABLE wose.newcolor_leaf {WOSE_LEAF_CS1}} {VARIABLE wose.idcolor WOSE_LEAF_CS1} {WOSE_BARK_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 3 ({VARIABLE wose.newcolor_leaf {WOSE_LEAF_CS2}} {VARIABLE wose.idcolor WOSE_LEAF_CS2} {WOSE_BARK_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 4 ({VARIABLE wose.newcolor_leaf {WOSE_LEAF_CS3}} {VARIABLE wose.idcolor WOSE_LEAF_CS3} {WOSE_BARK_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 5 ({VARIABLE wose.newcolor_leaf {WOSE_LEAF_CS4}} {VARIABLE wose.idcolor WOSE_LEAF_CS4} {WOSE_BARK_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 6 ({VARIABLE wose.newcolor_leaf {WOSE_LEAF_CS5}} {VARIABLE wose.idcolor WOSE_LEAF_CS5} {WOSE_BARK_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 7 ({VARIABLE wose.newcolor_leaf {WOSE_LEAF_CS6}} {VARIABLE wose.idcolor WOSE_LEAF_CS6} {WOSE_BARK_RANDOMISER_UCV})}
		)
		
		(1..8)
		({THEN_RANDOM ({VARIABLE wose.newcolor_leaf {DEFAULT_WOSE_LEAF}} {VARIABLE wose.idcolor DEFAULT_WOSE_LEAFs} {WOSE_BARK_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 2 ({VARIABLE wose.newcolor_leaf {WOSE_LEAF_CS1}} {VARIABLE wose.idcolor WOSE_LEAF_CS1} {WOSE_BARK_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 3 ({VARIABLE wose.newcolor_leaf {WOSE_LEAF_CS2}} {VARIABLE wose.idcolor WOSE_LEAF_CS2} {WOSE_BARK_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 4 ({VARIABLE wose.newcolor_leaf {WOSE_LEAF_CS3}} {VARIABLE wose.idcolor WOSE_LEAF_CS3} {WOSE_BARK_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 5 ({VARIABLE wose.newcolor_leaf {WOSE_LEAF_CS4}} {VARIABLE wose.idcolor WOSE_LEAF_CS4} {WOSE_BARK_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 6 ({VARIABLE wose.newcolor_leaf {WOSE_LEAF_CS5}} {VARIABLE wose.idcolor WOSE_LEAF_CS5} {WOSE_BARK_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 7 ({VARIABLE wose.newcolor_leaf {WOSE_LEAF_CS6}} {VARIABLE wose.idcolor WOSE_LEAF_CS6} {WOSE_BARK_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 8 ({RANDOM 1..7} [if]
			{THEN_RANDOM ({VARIABLE wose.newcolor_leaf {WOSE_LEAF_AUTUMN1}} {VARIABLE wose.idcolor WOSE_LEAF_AUTUMN1} {WOSE_BARK_RANDOMISER_UCV})}
			{ELSEIF_RANDOM 2 ({VARIABLE wose.newcolor_leaf {WOSE_LEAF_AUTUMN2}} {VARIABLE wose.idcolor WOSE_LEAF_AUTUMN2} {WOSE_BARK_RANDOMISER_UCV})}
			{ELSEIF_RANDOM 3 ({VARIABLE wose.newcolor_leaf {WOSE_LEAF_AUTUMN3}} {VARIABLE wose.idcolor WOSE_LEAF_AUTUMN3} {WOSE_BARK_RANDOMISER_UCV})}
			{ELSEIF_RANDOM 4 ({VARIABLE wose.newcolor_leaf {WOSE_LEAF_AUTUMN4}} {VARIABLE wose.idcolor WOSE_LEAF_AUTUMN4} {WOSE_BARK_RANDOMISER_UCV})}
			{ELSEIF_RANDOM 5 ({VARIABLE wose.newcolor_leaf {WOSE_LEAF_AUTUMN5}} {VARIABLE wose.idcolor WOSE_LEAF_AUTUMN5} {WOSE_BARK_RANDOMISER_UCV})}
			{ELSEIF_RANDOM 6 ({VARIABLE wose.newcolor_leaf {WOSE_LEAF_AUTUMN6}} {VARIABLE wose.idcolor WOSE_LEAF_AUTUMN6} {WOSE_BARK_RANDOMISER_UCV})}
			{ELSEIF_RANDOM 7 ({VARIABLE wose.newcolor_leaf {WOSE_LEAF_WINTER1}} {VARIABLE wose.idcolor WOSE_LEAF_WINTER1} {WOSE_BARK_RANDOMISER_UCV})}
			[/if])}
		)
	}
	
########################################################################
############					NAGA						############
########################################################################

	### Wose color randomizer
	#define NAGA_SCALE_RANDOMISER_UCV
	### Wose Bark randomizer
	[if]
		[false][/false]
		[then]
		[/then]
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([have_unit]
            {NAGA_RACE_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift_hair=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		(1..7)
		({THEN_RANDOM {VARIABLE naga.newcolor_top {DEFAULT_NAGA_TOP}}}
		{ELSEIF_RANDOM 2 {VARIABLE naga.newcolor_top {NAGA_TOP_GREEN1}}}
		{ELSEIF_RANDOM 3 {VARIABLE naga.newcolor_top {NAGA_TOP_GREEN2}}}
		{ELSEIF_RANDOM 4 {VARIABLE naga.newcolor_top {NAGA_TOP_GREEN3}}}
		{ELSEIF_RANDOM 5 {VARIABLE naga.newcolor_top {NAGA_TOP_GREEN4}}}
		{ELSEIF_RANDOM 6 {VARIABLE naga.newcolor_top {NAGA_TOP_GREEN5}}}
		{ELSEIF_RANDOM 7 {VARIABLE naga.newcolor_top {NAGA_TOP_GLIDER}}}
		)
		
		(1..7)
		(
					[variable]
						name=random
						numerical_equals=8
					[/variable]
					[then]
					[/then]
		{ELSEIF_IF naga.idcolor NAGA_BOTTOM_WHITE {VARIABLE naga.newcolor_top {NAGA_TOP_WHITE}}}
		{ELSEIF_IF naga.idcolor NAGA_BOTTOM_DESERT {VARIABLE naga.newcolor_top {NAGA_TOP_DESERT}}}
		{ELSEIF_IF naga.idcolor NAGA_BOTTOM_DEEPSEA {VARIABLE naga.newcolor_top {NAGA_TOP_DEEPSEA}}}
		{ELSEIF_RANDOM 1 {VARIABLE naga.newcolor_top {DEFAULT_NAGA_TOP}}}
		{ELSEIF_RANDOM 2 {VARIABLE naga.newcolor_top {NAGA_TOP_GREEN1}}}
		{ELSEIF_RANDOM 3 {VARIABLE naga.newcolor_top {NAGA_TOP_GREEN2}}}
		{ELSEIF_RANDOM 4 {VARIABLE naga.newcolor_top {NAGA_TOP_GREEN3}}}
		{ELSEIF_RANDOM 5 {VARIABLE naga.newcolor_top {NAGA_TOP_GREEN4}}}
		{ELSEIF_RANDOM 6 {VARIABLE naga.newcolor_top {NAGA_TOP_GREEN5}}}
		{ELSEIF_RANDOM 7 {VARIABLE naga.newcolor_top {NAGA_TOP_GLIDER}}}
		)
	}
	[/if]
	{MODIFICATION_COLORCHANGER_CODE ("$naga.basecolor_top,$naga.basecolor_bottom") ("$naga.newcolor_top,$naga.newcolor_bottom") $naga.idcolor}
	#enddef
	
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([have_unit]
            {NAGA_RACE_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		(1..7)
		({THEN_RANDOM ({VARIABLE naga.newcolor_bottom {DEFAULT_NAGA_BOTTOM}} {VARIABLE naga.idcolor DEFAULT_NAGA_BOTTOM} {NAGA_SCALE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 2 ({VARIABLE naga.newcolor_bottom {NAGA_BOTTOM_OCHER1}} {VARIABLE naga.idcolor NAGA_BOTTOM_OCHER1} {NAGA_SCALE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 3 ({VARIABLE naga.newcolor_bottom {NAGA_BOTTOM_OCHER2}} {VARIABLE naga.idcolor NAGA_BOTTOM_OCHER2} {NAGA_SCALE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 4 ({VARIABLE naga.newcolor_bottom {NAGA_BOTTOM_OCHER3}} {VARIABLE naga.idcolor NAGA_BOTTOM_OCHER3} {NAGA_SCALE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 5 ({VARIABLE naga.newcolor_bottom {NAGA_BOTTOM_OCHER4}} {VARIABLE naga.idcolor NAGA_BOTTOM_OCHER4} {NAGA_SCALE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 6 ({VARIABLE naga.newcolor_bottom {NAGA_BOTTOM_OCHER5}} {VARIABLE naga.idcolor NAGA_BOTTOM_OCHER5} {NAGA_SCALE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 7 ({VARIABLE naga.newcolor_bottom {NAGA_BOTTOM_GLIDER}} {VARIABLE naga.idcolor NAGA_BOTTOM_GLIDER} {NAGA_SCALE_RANDOMISER_UCV})}
		)
		
		(1..8)
		({THEN_RANDOM ({VARIABLE naga.newcolor_bottom {DEFAULT_NAGA_BOTTOM}} {VARIABLE naga.idcolor DEFAULT_NAGA_BOTTOM} {NAGA_SCALE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 2 ({VARIABLE naga.newcolor_bottom {NAGA_BOTTOM_OCHER1}} {VARIABLE naga.idcolor NAGA_BOTTOM_OCHER1} {NAGA_SCALE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 3 ({VARIABLE naga.newcolor_bottom {NAGA_BOTTOM_OCHER2}} {VARIABLE naga.idcolor NAGA_BOTTOM_OCHER2} {NAGA_SCALE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 4 ({VARIABLE naga.newcolor_bottom {NAGA_BOTTOM_OCHER3}} {VARIABLE naga.idcolor NAGA_BOTTOM_OCHER3} {NAGA_SCALE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 5 ({VARIABLE naga.newcolor_bottom {NAGA_BOTTOM_OCHER4}} {VARIABLE naga.idcolor NAGA_BOTTOM_OCHER4} {NAGA_SCALE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 6 ({VARIABLE naga.newcolor_bottom {NAGA_BOTTOM_OCHER5}} {VARIABLE naga.idcolor NAGA_BOTTOM_OCHER5} {NAGA_SCALE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 7 ({VARIABLE naga.newcolor_bottom {NAGA_BOTTOM_GLIDER}} {VARIABLE naga.idcolor NAGA_BOTTOM_GLIDER} {NAGA_SCALE_RANDOMISER_UCV})}
		{ELSEIF_RANDOM 8 ({RANDOM 1..3} [if]
			{THEN_RANDOM ({VARIABLE naga.newcolor_bottom {NAGA_BOTTOM_WHITE}} {VARIABLE naga.idcolor NAGA_BOTTOM_WHITE} {NAGA_SCALE_RANDOMISER_UCV})}
			{ELSEIF_RANDOM 2 ({VARIABLE naga.newcolor_bottom {NAGA_BOTTOM_DESERT}} {VARIABLE naga.idcolor NAGA_BOTTOM_DESERT} {NAGA_SCALE_RANDOMISER_UCV})}
			{ELSEIF_RANDOM 3 ({VARIABLE naga.newcolor_bottom {NAGA_BOTTOM_DEEPSEA}} {VARIABLE naga.idcolor NAGA_BOTTOM_DEEPSEA} {NAGA_SCALE_RANDOMISER_UCV})}
			[/if])}
		)
	}
	
########################################################################
############					Elves						############
########################################################################
			
	### Elves Clothing Infantry color randomizer
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([have_unit]
            {ElVISH_INF_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		(1..2)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {ELIVSH_INF_GREEN_KOMBO} {ELIVSH_INF_GREEN_KOMBO} GREEN}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {ELIVSH_INF_GREEN_KOMBO} {ELIVSH_INF_GREEN_KOMBO} MOSS}}
		)
		
		(1..2)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {ELIVSH_INF_GREEN_KOMBO} {ELIVSH_INF_DESERT_KOMBO} GREEN}}
		{ELSEIF_RANDOM 2 ({RANDOM 1..2} [if]
			{THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {ELIVSH_INF_GREEN_KOMBO} {ELIVSH_INF_DESERT_KOMBO} DESERT}}
			{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {ELIVSH_INF_GREEN_KOMBO} {ELIVSH_INF_DESERT_KOMBO} RED}}
			[/if])}
		)		
	}
	
	### Elves Clothing Cavalry color randomizer
	{MODIFICATION_COLORCHANGER_RANDOMIZER 
	([have_unit]
            {ElVISH_CAV_LIST}
			x,y=$x1,$y1
            [not]
                [filter_wml]
                    [modifications]
                        [object]
                            modification_scale_color_shift=yes
                        [/object]
                    [/modifications]
                [/filter_wml]
            [/not]
        [/have_unit]
		{VARIABLE_CONDITIONAL colorchanger_sides_active not_equals yes})
		(1..2)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {ELIVSH_CAV_GREEN_KOMBO} {ELIVSH_CAV_GREEN_KOMBO} GREEN}}
		{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {ELIVSH_CAV_GREEN_KOMBO} {ELIVSH_CAV_GREEN_KOMBO} MOSS}}
		)
		
		(1..2)
		({THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {ELIVSH_CAV_GREEN_KOMBO} {ELIVSH_CAV_DESERT_KOMBO} GREEN}}
		{ELSEIF_RANDOM 2 ({RANDOM 1..2} [if]
			{THEN_RANDOM {MODIFICATION_COLORCHANGER_CODE {ELIVSH_CAV_GREEN_KOMBO} {ELIVSH_CAV_DESERT_KOMBO} DESERT}}
			{ELSEIF_RANDOM 2 {MODIFICATION_COLORCHANGER_CODE {ELIVSH_CAV_GREEN_KOMBO} {ELIVSH_CAV_DESERT_KOMBO} RED}}
			[/if])}
		)		
	}	
	
	[/if]
	
	#clear all variables
	{CLEAR_VARIABLE ucv_color}
	{CLEAR_VARIABLE ucv_color2}
	{CLEAR_VARIABLE random}
	{CLEAR_VARIABLE random2}
	
[/event]

########################################################################
############				Additional Code					############
########################################################################
	
	[event]
		name=preload
		id=color_base_variation
		#wolf preset
			[set_variable]
				name=wolfrider.basecolor
				value={BASE_NORTHERNER_ORCISH_ARMOUR_COLLECTION_COLOR}
			[/set_variable]
			[set_variable]
				name=wolfrider.basecolor_fur
				value={WOLF_FUR}
			[/set_variable]
			[set_variable]
				name=wolfriderpillager.basecolor_fur
				value={WOLF_PILLAGE_FUR}
			[/set_variable]
			[set_variable]
				name=greatwolfrider.basecolor_fur
				value={GREAT_WOLF_FUR}
			[/set_variable]
			[set_variable]
				name=direwolfrider.basecolor_fur
				value={DIREWOLF_FUR}
			[/set_variable]
		#merfolk preset
			[set_variable]
				name=merfolk.basecolor
				value={MERFOLK_BLUE}
			[/set_variable]
			[set_variable]
				name=merfolk.basecolor_hair
				value={MERFOLK_HAIR}
			[/set_variable]
		#wose preset
			[set_variable]
				name=wose.basecolor_bark
				value={DEFAULT_WOSE_BARK}
			[/set_variable]
			[set_variable]
				name=wose.basecolor_leaf
				value={DEFAULT_WOSE_LEAF}
			[/set_variable]
		#naga preset
			[set_variable]
				name=naga.basecolor_top
				value={DEFAULT_NAGA_TOP}
			[/set_variable]
			[set_variable]
				name=naga.basecolor_bottom
				value={DEFAULT_NAGA_BOTTOM}
			[/set_variable]
	[/event]
	

########################################################################
############				Advancements					############
########################################################################
	{ADVANCEMENTS_UCV}
########################################################################
############					End							############
########################################################################

[/modification]
